<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Golang函数函数参数的传递方式基本介绍​    值类型参数默认就是值传递，而引用类型参数默认就是引用传递 两种传递方式 值传递  引用传递   其实，不管是值传递还是引用传递，传递给函数的都是变量副本，不同的是，值传递的是值的拷贝，引用传递的是地址的拷贝，一般来说，地址效率高，因为数 据量小，而值拷贝决定拷贝的数据量大小，数据量越大，效率越低 值类型和引用类型 ​    值类型：基本数据类型i">
<meta property="og:type" content="article">
<meta property="og:title" content="Golang笔记">
<meta property="og:url" content="http://example.com/2021/06/26/Golang/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Golang函数函数参数的传递方式基本介绍​    值类型参数默认就是值传递，而引用类型参数默认就是引用传递 两种传递方式 值传递  引用传递   其实，不管是值传递还是引用传递，传递给函数的都是变量副本，不同的是，值传递的是值的拷贝，引用传递的是地址的拷贝，一般来说，地址效率高，因为数 据量小，而值拷贝决定拷贝的数据量大小，数据量越大，效率越低 值类型和引用类型 ​    值类型：基本数据类型i">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/2021-06-02_223310.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/2021-06-02_230557.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_1.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_2.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_3.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_4.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_5.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_6.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_7.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_8.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_9.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_10.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_11.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_12.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_13.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_14.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_15.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_16.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_17.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_18.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_19.png">
<meta property="og:image" content="http://example.com/2021/06/26/Golang/image/image_20.png">
<meta property="article:published_time" content="2021-06-26T05:55:08.704Z">
<meta property="article:modified_time" content="2021-06-26T05:55:08.742Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="Go">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2021/06/26/Golang/image/image.png">

<link rel="canonical" href="http://example.com/2021/06/26/Golang/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Golang笔记 | Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/26/Golang/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Golang笔记
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-26 13:55:08" itemprop="dateCreated datePublished" datetime="2021-06-26T13:55:08+08:00">2021-06-26</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Golang/" itemprop="url" rel="index"><span itemprop="name">Golang</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Golang"><a href="#Golang" class="headerlink" title="Golang"></a>Golang</h1><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="函数参数的传递方式"><a href="#函数参数的传递方式" class="headerlink" title="函数参数的传递方式"></a>函数参数的传递方式</h3><h4 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h4><p>​    值类型参数默认就是值传递，而引用类型参数默认就是引用传递</p>
<h4 id="两种传递方式"><a href="#两种传递方式" class="headerlink" title="两种传递方式"></a>两种传递方式</h4><ol>
<li><p>值传递</p>
</li>
<li><p>引用传递</p>
</li>
</ol>
<p>其实，不管是值传递还是引用传递，传递给函数的都是变量副本，不同的是，值传递的是值的拷贝，引用传递的是地址的拷贝，一般来说，地址效率高，因为数</p>
<p>据量小，而值拷贝决定拷贝的数据量大小，数据量越大，效率越低</p>
<h4 id="值类型和引用类型"><a href="#值类型和引用类型" class="headerlink" title="值类型和引用类型"></a>值类型和引用类型</h4><ol>
<li><p>​    值类型：基本数据类型int系列，float系列，bool，string，数组和结构体struct</p>
</li>
<li><p>​    引用类型：指针，slice切片，map，管道chan，interface等都是引用赋值</p>
</li>
</ol>
<h3 id="字符串常用系统函数"><a href="#字符串常用系统函数" class="headerlink" title="字符串常用系统函数"></a>字符串常用系统函数</h3><p>​    1.    统计字符串的长度，按字节 len（str）</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">  <span class="comment">//统计字符串长度，按字节len（str）</span></span><br><span class="line">  <span class="comment">//golang统一为UTF-8编码，字母和数字占一个字节，汉字占3个字节</span></span><br><span class="line">  str := <span class="string">&quot;word刘阳&quot;</span></span><br><span class="line">  fmt.Println(<span class="string">&quot;str len=&quot;</span>,<span class="built_in">len</span>(str)) <span class="comment">//输出 10</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>​    2.    字符串便利，同时处理有中文的问题 r:=[]rune[str]</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    str2 := <span class="string">&quot;word刘阳&quot;</span></span><br><span class="line">    r := []<span class="keyword">rune</span>(str2)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(r); i++ &#123;</span><br><span class="line">       fmt.Printf(<span class="string">&quot;字符=%c\n&quot;</span>,r[i])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>​    3.    字符串转整数：n,err := strconv.Atoi(“12”)</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//字符串转整数：n,err := strconv.Atoi(&quot;12&quot;)</span></span><br><span class="line">n,err := strconv.Atoi(<span class="string">&quot;123&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</span><br><span class="line">   fmt.Println(<span class="string">&quot;转换错误&quot;</span>,err)</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">   fmt.Println(<span class="string">&quot;结果=&quot;</span>,n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4.  ​  整数转字符串：str := strconv.Itoa(&quot;123312&quot;)</span><br></pre></td></tr></table></figure>


<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//整数转字符串：str := strconv.Itoa(&quot;123312&quot;)</span></span><br><span class="line">str3 := strconv.Itoa(<span class="number">1111</span>)</span><br><span class="line">fmt.Println(<span class="string">&quot;字符串=&quot;</span>,str3)</span><br></pre></td></tr></table></figure>


<p>​    5.     字符串转[]byte：var bytes = []byte(“hello go”)</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//字符串转[]byte：var bytes = []byte(&quot;hello go&quot;)</span></span><br><span class="line"><span class="keyword">var</span> bytes = []<span class="keyword">byte</span>(<span class="string">&quot;hello go&quot;</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;bytes=%v\n&quot;</span>,bytes)</span><br></pre></td></tr></table></figure>


<p>​    6.    等等等！！！！</p>
<h2 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h2><h3 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">//使用defer+recover 来捕获和处理异常</span></span><br><span class="line">   <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">      err := <span class="built_in">recover</span>()<span class="comment">//recover内置函数，可以捕获到异常</span></span><br><span class="line">      <span class="keyword">if</span> err != <span class="literal">nil</span> &#123; <span class="comment">//说明捕获到错误</span></span><br><span class="line">         fmt.Println(<span class="string">&quot;err：&quot;</span>,err)</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;()</span><br><span class="line">   n1 := <span class="number">10</span></span><br><span class="line">   n2 := <span class="number">0</span> <span class="comment">//被除数不能为0，抛出异常</span></span><br><span class="line">   res := n1 / n2</span><br><span class="line">   fmt.Println(<span class="string">&quot;res=&quot;</span>, res)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   test()</span><br><span class="line">   fmt.Println(<span class="string">&quot;main下面的代码...&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="defer"><a href="#defer" class="headerlink" title="defer"></a>defer</h2><h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><h4 id="数组是值类型"><a href="#数组是值类型" class="headerlink" title="数组是值类型"></a>数组是值类型</h4><h4 id="如何定义数组"><a href="#如何定义数组" class="headerlink" title="如何定义数组"></a>如何定义数组</h4><p>​    var 变量名 [数组长度]数组类型</p>
<p>​    例：var array [10]int</p>
<h4 id="数组如何初始化"><a href="#数组如何初始化" class="headerlink" title="数组如何初始化"></a>数组如何初始化</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.  array  =  [10]int&#123;1,2,3,4,5,6,7,8,12,22&#125;</span><br><span class="line">2.  array   =    [...]int&#123;1,2,3,4,5&#125;      //...表示数组的长度为动态</span><br><span class="line">3.  array    =    [...]int[1:3,4:3]         //表示下标为1的值为3   下标为4的值为3</span><br></pre></td></tr></table></figure>



<h3 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h3><h4 id="二维数组在内存中的布局："><a href="#二维数组在内存中的布局：" class="headerlink" title="二维数组在内存中的布局："></a>二维数组在内存中的布局：</h4><p><img src="image/image.png"></p>
<h4 id="二维数组使用方式（1）"><a href="#二维数组使用方式（1）" class="headerlink" title="二维数组使用方式（1）"></a>二维数组使用方式（1）</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="comment">//多维数组</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="comment">//输出下面数字格式</span></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">    0 0 0 0 0 0</span></span><br><span class="line"><span class="comment">    0 0 1 0 0 0</span></span><br><span class="line"><span class="comment">    0 2 0 3 0 0</span></span><br><span class="line"><span class="comment">    0 0 0 0 0 0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> arr [<span class="number">4</span>][<span class="number">6</span>]<span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">  arr[<span class="number">1</span>][<span class="number">2</span>] = <span class="number">1</span></span><br><span class="line">  arr[<span class="number">2</span>][<span class="number">1</span>] = <span class="number">2</span></span><br><span class="line">  arr[<span class="number">2</span>][<span class="number">3</span>] = <span class="number">3</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">4</span>; i++ &#123;</span><br><span class="line">    <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">6</span>; j++ &#123;</span><br><span class="line">      fmt.Print(arr[i][j], <span class="string">&quot; &quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="二维数组使用方式（2）（直接初始化）"><a href="#二维数组使用方式（2）（直接初始化）" class="headerlink" title="二维数组使用方式（2）（直接初始化）"></a>二维数组使用方式（2）（直接初始化）</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 [<span class="number">2</span>][<span class="number">3</span>]<span class="keyword">int</span> = [<span class="number">2</span>][<span class="number">3</span>]<span class="keyword">int</span>&#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;&#125;  </span><br><span class="line">fmt.Println(arr1)</span><br></pre></td></tr></table></figure>


<h4 id="二维数组的遍历"><a href="#二维数组的遍历" class="headerlink" title="二维数组的遍历"></a>二维数组的遍历</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 [<span class="number">2</span>][<span class="number">3</span>]<span class="keyword">int</span> = [<span class="number">2</span>][<span class="number">3</span>]<span class="keyword">int</span>&#123;&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;, &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//用for遍历</span></span><br><span class="line">  <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(arr1); i++ &#123;</span><br><span class="line">    <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="built_in">len</span>(arr1[i]); j++ &#123;</span><br><span class="line">      fmt.Printf(<span class="string">&quot;%v\t&quot;</span>, arr1[i][j])</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//用for-range遍历</span></span><br><span class="line">  <span class="keyword">for</span> i, v := <span class="keyword">range</span> arr1 &#123;</span><br><span class="line">    <span class="keyword">for</span> j, v2 := <span class="keyword">range</span> v &#123;</span><br><span class="line">      fmt.Printf(<span class="string">&quot;arr[%v][%v] = %v&quot;</span>,j,i,v2)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println()</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>


<h4 id="注意："><a href="#注意：" class="headerlink" title="注意："></a><strong>注意：</strong></h4><p>&ensp;&ensp;&ensp;&ensp;多维数组<strong>只有第一层</strong> 可以使用<code>...</code>来让编译器推导数组长度。例如 ↓</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//支持的写法</span></span><br><span class="line">a := [...][<span class="number">2</span>]<span class="keyword">string</span>&#123;</span><br><span class="line">  &#123;<span class="string">&quot;北京&quot;</span>, <span class="string">&quot;上海&quot;</span>&#125;,</span><br><span class="line">  &#123;<span class="string">&quot;广州&quot;</span>, <span class="string">&quot;深圳&quot;</span>&#125;,</span><br><span class="line">  &#123;<span class="string">&quot;成都&quot;</span>, <span class="string">&quot;重庆&quot;</span>&#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//不支持多维数组的内层使用...</span></span><br><span class="line">b := [<span class="number">3</span>][...]<span class="keyword">string</span>&#123;</span><br><span class="line">  &#123;<span class="string">&quot;北京&quot;</span>, <span class="string">&quot;上海&quot;</span>&#125;,</span><br><span class="line">  &#123;<span class="string">&quot;广州&quot;</span>, <span class="string">&quot;深圳&quot;</span>&#125;,</span><br><span class="line">  &#123;<span class="string">&quot;成都&quot;</span>, <span class="string">&quot;重庆&quot;</span>&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h3><h4 id="切片是引用类型"><a href="#切片是引用类型" class="headerlink" title="切片是引用类型"></a>切片是引用类型</h4><h4 id="切片的本质"><a href="#切片的本质" class="headerlink" title="切片的本质"></a>切片的本质</h4><p>​    切片就是一个框，框住了一块连续的内存</p>
<p>​    切片属于<strong>引用类型</strong> ，真正的数据都是保存在底层数组里面的</p>
<p>​    三个元素：指针  长度 容量</p>
<h4 id="切片的扩容"><a href="#切片的扩容" class="headerlink" title="切片的扩容"></a>切片的扩容</h4><ol>
<li><p>​    如果申请的容量大于原来的2倍，那就直接扩容之新申请的容量</p>
</li>
<li><p>​    如果小于1024，那么就直接两倍</p>
</li>
<li><p>​    如果大于1024，那就按照1.25倍去扩容</p>
</li>
<li><p>​    具体存储的值类型不同，扩容策略也有细微的改变</p>
</li>
</ol>
<h4 id="切片不能直接比较"><a href="#切片不能直接比较" class="headerlink" title="切片不能直接比较"></a>切片不能直接比较</h4><p>​    a1 := []int    //a1 == nil</p>
<p>​    a2 := []int{}  //a1 != nil</p>
<p>​    要判断一个切片是否为空，应该用len(s) == 0  ，不应该使用 s == nil 来判断！</p>
<h4 id="切片（slice）（案例）"><a href="#切片（slice）（案例）" class="headerlink" title="切片（slice）（案例）"></a>切片（slice）（案例）</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//定义切片</span></span><br><span class="line">   <span class="keyword">var</span> s1 []<span class="keyword">int</span>    <span class="comment">//定义一个int类型的切片</span></span><br><span class="line">   <span class="keyword">var</span> s2 []<span class="keyword">string</span> <span class="comment">//定义一个string类型的切片</span></span><br><span class="line">   fmt.Println(s1, s2)</span><br><span class="line">   fmt.Println(s1 == <span class="literal">nil</span>) <span class="comment">//true</span></span><br><span class="line">   fmt.Println(s2 == <span class="literal">nil</span>) <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//初始化</span></span><br><span class="line">   s1 = []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">   s2 = []<span class="keyword">string</span>&#123;<span class="string">&quot;哈哈&quot;</span>, <span class="string">&quot;呵呵&quot;</span>, <span class="string">&quot;干干&quot;</span>&#125;</span><br><span class="line">   fmt.Println(s1, s2)</span><br><span class="line">   fmt.Println(s1 == <span class="literal">nil</span>) <span class="comment">//true</span></span><br><span class="line">   fmt.Println(s2 == <span class="literal">nil</span>) <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//长度和容量</span></span><br><span class="line">   fmt.Printf(<span class="string">&quot;len(s1):%d cap(s1):%d\n&quot;</span>, <span class="built_in">len</span>(s1), <span class="built_in">cap</span>(s1))</span><br><span class="line">   fmt.Printf(<span class="string">&quot;len(s2):%d cap(s2):%d\n&quot;</span>, <span class="built_in">len</span>(s2), <span class="built_in">cap</span>(s2))</span><br><span class="line"></span><br><span class="line">   <span class="comment">//由数组得到切片</span></span><br><span class="line">   a1 := [...]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;</span><br><span class="line">   s3 := a1[<span class="number">0</span>:<span class="number">4</span>] <span class="comment">//基于一个数组切割，左包含右不包含 ，（左闭又开）</span></span><br><span class="line">   fmt.Println(s3)</span><br><span class="line">   s4 := a1[:<span class="number">5</span>] <span class="comment">// [0:5]</span></span><br><span class="line">   fmt.Println(s4)</span><br><span class="line">   s5 := a1[<span class="number">4</span>:] <span class="comment">//[4:len(a1)]</span></span><br><span class="line">   fmt.Println(s5)</span><br><span class="line">   s6 := a1[:] <span class="comment">//[0:len(a1)]</span></span><br><span class="line">   fmt.Println(s6)</span><br><span class="line"></span><br><span class="line">   <span class="comment">//切片的容量是指底层数组的容量</span></span><br><span class="line">   fmt.Printf(<span class="string">&quot;len(s4):%d cap(s4):%d\n&quot;</span>, <span class="built_in">len</span>(s4), <span class="built_in">cap</span>(s4))</span><br><span class="line">   fmt.Printf(<span class="string">&quot;len(s5):%d cap(s5):%d\n&quot;</span>, <span class="built_in">len</span>(s5), <span class="built_in">cap</span>(s5))</span><br><span class="line"></span><br><span class="line">   <span class="comment">//切片再切割</span></span><br><span class="line">   s7 := s5[<span class="number">4</span>:] <span class="comment">//[9]</span></span><br><span class="line">   fmt.Printf(<span class="string">&quot;len(s7):%d cap(s7):%d\n&quot;</span>, <span class="built_in">len</span>(s7), <span class="built_in">cap</span>(s7))</span><br><span class="line"></span><br><span class="line">   <span class="comment">//切片是引用传递,都指向了底层的数组</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;s5:&quot;</span>, s5)</span><br><span class="line">   a1[<span class="number">8</span>] = <span class="number">900</span> <span class="comment">//修改了底层数组的值</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;s5:&quot;</span>, s5)</span><br><span class="line">   fmt.Println(<span class="string">&quot;s4:&quot;</span>, s4)</span><br><span class="line">   fmt.Println(<span class="string">&quot;s7:&quot;</span>, s7)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="make"><a href="#make" class="headerlink" title="make"></a>make</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//make定义切片</span></span><br><span class="line">s1 := <span class="built_in">make</span>([]<span class="keyword">int</span>,<span class="number">5</span>,<span class="number">10</span>)  <span class="comment">//male(数据类型，长度，容量)</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;s1=%v lent(s1)=%d cap(s1)=%d\n&quot;</span>,s1,<span class="built_in">len</span>(s1),<span class="built_in">cap</span>(s1))</span><br><span class="line"></span><br><span class="line">s2 := <span class="built_in">make</span>([]<span class="keyword">int</span>,<span class="number">0</span>,<span class="number">10</span>)  <span class="comment">//male(数据类型，长度，容量)</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;s2=%v lent(s2)=%d cap(s2)=%d\n&quot;</span>,s2,<span class="built_in">len</span>(s2),<span class="built_in">cap</span>(s2))</span><br></pre></td></tr></table></figure>


<h4 id="切片的遍历"><a href="#切片的遍历" class="headerlink" title="切片的遍历"></a>切片的遍历</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//切片的遍历</span></span><br><span class="line">s3 := []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line"><span class="comment">//1.索引遍历</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(s3); i++ &#123;</span><br><span class="line">   fmt.Println(s3[i])</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2.for rabge循环</span></span><br><span class="line"><span class="keyword">for</span> i,v:=<span class="keyword">range</span> s3&#123;</span><br><span class="line">   fmt.Println(i,v)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="append"><a href="#append" class="headerlink" title="append"></a>append</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//append（）为切片追加元素</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">   s1 := []<span class="keyword">string</span>&#123;<span class="string">&quot;哈哈&quot;</span>,<span class="string">&quot;呵呵&quot;</span>,<span class="string">&quot;干干&quot;</span>&#125;</span><br><span class="line">   fmt.Printf(<span class="string">&quot;s1=%v lent(s1)=%d cap(s1)=%d\n&quot;</span>, s1, <span class="built_in">len</span>(s1), <span class="built_in">cap</span>(s1))</span><br><span class="line"></span><br><span class="line">   <span class="comment">//s1[3] = &quot;啪啪&quot; //错误的写法，会导致编译错误 ，索引越界！！！</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//调用append函数必须用原来的切片变量接收返回值</span></span><br><span class="line">   <span class="comment">//append追加元素，原来的底层数组放不下的时候，Go底层就会把底层数组换一个</span></span><br><span class="line">   s1 = <span class="built_in">append</span>(s1,<span class="string">&quot;啪啪&quot;</span>)</span><br><span class="line">   fmt.Printf(<span class="string">&quot;s1=%v lent(s1)=%d cap(s1)=%d\n&quot;</span>, s1, <span class="built_in">len</span>(s1), <span class="built_in">cap</span>(s1))</span><br><span class="line">   s1 = <span class="built_in">append</span>(s1,<span class="string">&quot;哥哥&quot;</span>,<span class="string">&quot;嗷嗷&quot;</span>)</span><br><span class="line">   fmt.Printf(<span class="string">&quot;s1=%v lent(s1)=%d cap(s1)=%d\n&quot;</span>, s1, <span class="built_in">len</span>(s1), <span class="built_in">cap</span>(s1))</span><br><span class="line">   ss := []<span class="keyword">string</span>&#123;<span class="string">&quot;昳跌&quot;</span>,<span class="string">&quot;妈妈&quot;</span>&#125;</span><br><span class="line">   s1 = <span class="built_in">append</span>(s1,ss...) <span class="comment">//表示拆开</span></span><br><span class="line">   fmt.Printf(<span class="string">&quot;s1=%v lent(s1)=%d cap(s1)=%d\n&quot;</span>, s1, <span class="built_in">len</span>(s1), <span class="built_in">cap</span>(s1))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="copy"><a href="#copy" class="headerlink" title="copy"></a>copy</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//copy</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line"></span><br><span class="line">   a1 := []<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line">   a2 := a1</span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> a3  = <span class="built_in">make</span>([]<span class="keyword">int</span>,<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line">   <span class="built_in">copy</span>(a3,a1) <span class="comment">//使用capy（）函数，将a1中的元素赋值给a3</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;\n&quot;</span>,a1,a2,a3)</span><br><span class="line">   a1[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">   fmt.Println(a1,a2,a3)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="删除切片中的指定元素"><a href="#删除切片中的指定元素" class="headerlink" title="删除切片中的指定元素"></a>删除切片中的指定元素</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//删除切片中的元素</span></span><br><span class="line">x1 := [...]<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125; <span class="comment">//定义数组</span></span><br><span class="line">s2 := x1[:]  <span class="comment">//切片赋值</span></span><br><span class="line">fmt.Println(s2,<span class="built_in">len</span>(s2),<span class="built_in">cap</span>(s2))</span><br><span class="line"></span><br><span class="line"><span class="comment">//1.切片不保留具体的值  2.切片对应底层的数组  3.底层数组都是占用一块连续的内存</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%p\n&quot;</span>,&amp;s2[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">s2 = <span class="built_in">append</span>(s2[:<span class="number">1</span>],s2[<span class="number">2</span>:]...) <span class="comment">//修改底层数组</span></span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;%p\n&quot;</span>,&amp;s2[<span class="number">0</span>])</span><br><span class="line">fmt.Println(s2,<span class="built_in">len</span>(s2),<span class="built_in">cap</span>(s2))</span><br><span class="line">fmt.Println(x1)</span><br></pre></td></tr></table></figure>


<h4 id="string-与-slice"><a href="#string-与-slice" class="headerlink" title="_string 与 slice"></a>_string 与 slice</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">   str1 := <span class="string">&quot;hello@liuyang&quot;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//如果需要修改字符串，可以先将string-&gt;[]byte 或者 []rune-&gt;修改 -&gt; 重写之后再转成string</span></span><br><span class="line">   <span class="comment">//hello@liuyang  改成 aello@liuyang</span></span><br><span class="line">   str2  := []<span class="keyword">byte</span>(str1)</span><br><span class="line">   str2[<span class="number">0</span>] = <span class="string">&#x27;a&#x27;</span></span><br><span class="line">   str1 = <span class="keyword">string</span>(str2)</span><br><span class="line">   fmt.Println(str1)</span><br><span class="line"></span><br><span class="line">   <span class="comment">//细节 转成byte[]后，可以处理英文或者数字，不能处理中文</span></span><br><span class="line">   <span class="comment">//原因 byte[]是按字节来处理，而一个汉字是三个字节，所以就会乱码</span></span><br><span class="line">   <span class="comment">//解决：将string转成[]rune即可，因为[]rune是按字符来处理，兼容汉字</span></span><br><span class="line">   str3 := []<span class="keyword">rune</span>(str1)</span><br><span class="line">   str3[<span class="number">0</span>] = <span class="string">&#x27;北&#x27;</span></span><br><span class="line">   str1 = <span class="keyword">string</span>(str3)</span><br><span class="line">   fmt.Println(str1)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h3><p>​    Go语言中不存在指针操作，只需要记住两个符号：</p>
<p>​        1.&amp;：取地址符</p>
<p>​        2. *：根据地址取值</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a := <span class="number">8</span></span><br><span class="line"><span class="comment">//1.&amp;取地址符</span></span><br><span class="line">b := &amp;a  <span class="comment">//把8所在内存中的地址赋值给b</span></span><br><span class="line">fmt.Println(b)</span><br><span class="line"><span class="comment">//2.*根据地址取内存中对应的值</span></span><br><span class="line">fmt.Println(*b)</span><br></pre></td></tr></table></figure>


<h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><h4 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.  Go语言中提供的映射关系容器是`map`，其内部使用`散列表(hash)`来实现的</span><br><span class="line">2.  map是一种**无序** 的基于`key-value`的数据结构。</span><br><span class="line">3.  Go语言中的map是**引用类型** ，**必须初始化（也就是分配内存）才能使用** 。</span><br></pre></td></tr></table></figure>


<h4 id="map案例"><a href="#map案例" class="headerlink" title="map案例"></a>map案例</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> m1 <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span></span><br><span class="line">   fmt.Println(m1 == <span class="literal">nil</span>)        <span class="comment">//还没有初始化（没有在内存汇总开辟空间）</span></span><br><span class="line">   m1 = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>, <span class="number">10</span>) <span class="comment">//要估算好map容量，避免在运行中动态扩容</span></span><br><span class="line"></span><br><span class="line">   m1[<span class="string">&quot;嘎嘎&quot;</span>] = <span class="number">18</span></span><br><span class="line">   m1[<span class="string">&quot;屁屁&quot;</span>] = <span class="number">14</span></span><br><span class="line">   fmt.Println(m1)</span><br><span class="line">   fmt.Println(m1[<span class="string">&quot;屁屁&quot;</span>])</span><br><span class="line">   fmt.Println(m1[<span class="string">&quot;伽伽&quot;</span>]) <span class="comment">//如果不存在这个key，则返回这个类型的零值</span></span><br><span class="line"></span><br><span class="line">   value, ok := m1[<span class="string">&quot;伽伽&quot;</span>]</span><br><span class="line">   <span class="keyword">if</span> !ok &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;查无此人&quot;</span>)</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      fmt.Println(value)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">**<span class="comment">/*</span></span><br><span class="line"><span class="comment">  代码说明：</span></span><br><span class="line"><span class="comment">  1.map在使用前一定要make</span></span><br><span class="line"><span class="comment">  2.map的key是不能重复，如果重复了，则以最后这个key-value为准</span></span><br><span class="line"><span class="comment">  3.map的value是可以相同的</span></span><br><span class="line"><span class="comment">  4.map的key-value是无序的</span></span><br><span class="line"><span class="comment">*/</span> ** </span><br></pre></td></tr></table></figure>


<h4 id="map的使用方式（3种）"><a href="#map的使用方式（3种）" class="headerlink" title="map的使用方式（3种）"></a>map的使用方式（3种）</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//map的使用</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line"></span><br><span class="line">  **<span class="comment">//第一种** </span></span><br><span class="line">  <span class="keyword">var</span> a <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line">  a = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>,<span class="number">10</span>)</span><br><span class="line">  a[<span class="string">&quot;no1&quot;</span>] = <span class="string">&quot;哈哈&quot;</span></span><br><span class="line">  a[<span class="string">&quot;no2&quot;</span>] = <span class="string">&quot;呵呵&quot;</span></span><br><span class="line">  fmt.Println(a)</span><br><span class="line"></span><br><span class="line"> ** ** **<span class="comment">//第二种** </span></span><br><span class="line">  <span class="keyword">var</span> b <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line">  b = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br><span class="line">  b[<span class="string">&quot;no3&quot;</span>] = <span class="string">&quot;哥哥&quot;</span></span><br><span class="line">  b[<span class="string">&quot;no4&quot;</span>] = <span class="string">&quot;弟弟&quot;</span></span><br><span class="line">  fmt.Println(b)</span><br><span class="line"></span><br><span class="line">  **<span class="comment">//第三种** </span></span><br><span class="line">  c := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>&#123;</span><br><span class="line">    <span class="string">&quot;no5&quot;</span> : <span class="string">&quot;张飞&quot;</span>,</span><br><span class="line">    <span class="string">&quot;no6&quot;</span> : <span class="string">&quot;关羽&quot;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">  fmt.Println(c)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="map的遍历"><a href="#map的遍历" class="headerlink" title="map的遍历"></a>map的遍历</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//map的遍历</span></span><br><span class="line"><span class="comment">//1.键值都遍历</span></span><br><span class="line"> <span class="keyword">for</span> k, v := <span class="keyword">range</span> m1 &#123;</span><br><span class="line">    fmt.Println(k, v)</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">//2.只遍历key</span></span><br><span class="line"> <span class="keyword">for</span> k := <span class="keyword">range</span> m1 &#123;</span><br><span class="line">    fmt.Println(k)</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">//3.值遍历value</span></span><br><span class="line"> <span class="keyword">for</span> _, v := <span class="keyword">range</span> m1 &#123;</span><br><span class="line">    fmt.Println(v)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>


<h4 id="map的crud操作"><a href="#map的crud操作" class="headerlink" title="map的crud操作"></a>map的crud操作</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//map的crud操作</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//map的添加和修改</span></span><br><span class="line">  <span class="keyword">var</span> a <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line">  a = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br><span class="line">  a[<span class="string">&quot;no1&quot;</span>] = <span class="string">&quot;哈哈&quot;</span></span><br><span class="line">  a[<span class="string">&quot;no2&quot;</span>] = <span class="string">&quot;呵呵&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//增加，因为不存在[&quot;no3&quot;]这个键，所以会增加这个键</span></span><br><span class="line">  a[<span class="string">&quot;no3&quot;</span>] = <span class="string">&quot;干干&quot;</span></span><br><span class="line">  fmt.Println(a)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//修改，因为存在[&quot;no3&quot;]这个键，所以会修改这个键</span></span><br><span class="line">  a[<span class="string">&quot;no3&quot;</span>] = <span class="string">&quot;啪啪&quot;</span></span><br><span class="line">  fmt.Println(a)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//删除</span></span><br><span class="line">  <span class="built_in">delete</span>(a,<span class="string">&quot;no3&quot;</span>)</span><br><span class="line">  fmt.Println(a)</span><br><span class="line">  <span class="comment">//删除一个不存在的key时，删除不会操作，也不会报错</span></span><br><span class="line">  <span class="built_in">delete</span>(a,<span class="string">&quot;no9&quot;</span>)</span><br><span class="line">  fmt.Println(a)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//如果希望一次性删除所有的key</span></span><br><span class="line">  <span class="comment">//1.遍历所有的key，逐一删除[遍历]</span></span><br><span class="line">  <span class="comment">//2.直接make一个新的空间</span></span><br><span class="line">  a = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br><span class="line">  fmt.Println(a)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//查找</span></span><br><span class="line">  val,ok := a[<span class="string">&quot;no8&quot;</span>]</span><br><span class="line">  <span class="keyword">if</span> ok &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;找到了=%v&quot;</span>,val)</span><br><span class="line">  &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;没找到&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="map切片"><a href="#map切片" class="headerlink" title="map切片"></a>map切片</h4><p><strong>定义：</strong> </p>
<p>&ensp;&ensp;&ensp;&ensp;切片的类型如果是map，则我们成为slice of map切片，这样使用则map个数就可以动态变化了。</p>
<p><strong>案例：</strong> </p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//slice of map</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//演示map切片使用</span></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">    要求：使用一个map来记录monster的信息name和age，也就是说一个monster对应一个map，并且妖怪的数量可以动态增加=》map切片</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//1,声明map切片</span></span><br><span class="line">  <span class="keyword">var</span> monster []<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line">  monster = <span class="built_in">make</span>([]<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>,<span class="number">2</span>) <span class="comment">//计划放入两个妖怪</span></span><br><span class="line">  <span class="comment">//2.增加一个妖怪的信息</span></span><br><span class="line">  <span class="keyword">if</span> monster[<span class="number">0</span>] == <span class="literal">nil</span>&#123;</span><br><span class="line">    monster[<span class="number">0</span>] = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>,<span class="number">2</span>)</span><br><span class="line">    monster[<span class="number">0</span>][<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;哈哈&quot;</span></span><br><span class="line">    monster[<span class="number">0</span>][<span class="string">&quot;age&quot;</span>] = <span class="string">&quot;23&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> monster[<span class="number">1</span>] == <span class="literal">nil</span>&#123;</span><br><span class="line">    monster[<span class="number">1</span>] = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>,<span class="number">2</span>)</span><br><span class="line">    monster[<span class="number">1</span>][<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;嘎嘎&quot;</span></span><br><span class="line">    monster[<span class="number">1</span>][<span class="string">&quot;age&quot;</span>] = <span class="string">&quot;19&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//下面这个写法越界，因为切片长度为2</span></span><br><span class="line">  <span class="comment">//if monster[2] == nil&#123;</span></span><br><span class="line">  <span class="comment">//  monster[2] = make(map[string]string,2)</span></span><br><span class="line">  <span class="comment">//  monster[2][&quot;name&quot;] = &quot;嘎嘎&quot;</span></span><br><span class="line">  <span class="comment">//  monster[2][&quot;age&quot;] = &quot;19&quot;</span></span><br><span class="line">  <span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">  newMonster := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>&#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>:<span class="string">&quot;渣渣&quot;</span>,</span><br><span class="line">    <span class="string">&quot;age&quot;</span>:<span class="string">&quot;43&quot;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">  monster = <span class="built_in">append</span>(monster,newMonster)<span class="comment">//用append来动态追加</span></span><br><span class="line">  fmt.Println(monster)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="map排序"><a href="#map排序" class="headerlink" title="map排序"></a>map排序</h4><p><strong>案例：</strong> </p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">&quot;fmt&quot;</span></span><br><span class="line">  <span class="string">&quot;sort&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">//map排序</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  maps := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>,<span class="number">10</span>)</span><br><span class="line">  maps[<span class="number">4</span>] = <span class="number">10</span></span><br><span class="line">  maps[<span class="number">8</span>] = <span class="number">8</span></span><br><span class="line">  maps[<span class="number">3</span>] = <span class="number">2</span></span><br><span class="line">  maps[<span class="number">9</span>] = <span class="number">5</span></span><br><span class="line"></span><br><span class="line">  fmt.Println(maps)<span class="comment">//新版本默认为升序,教学视频中的go版本较老，老版本的Go中，map默认为无序</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//如果按照map的key的顺序进行排序输出</span></span><br><span class="line">  <span class="comment">//1.先将map放进切片里</span></span><br><span class="line">  <span class="comment">//2.对切片进行排序</span></span><br><span class="line">  <span class="comment">//3.遍历切片，然后按照key来输出map的值</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> keys []<span class="keyword">int</span></span><br><span class="line">  <span class="keyword">for</span> k,_ := <span class="keyword">range</span> maps &#123;</span><br><span class="line">    keys = <span class="built_in">append</span>(keys,k)</span><br><span class="line">  &#125;</span><br><span class="line">  sort.Ints(keys)</span><br><span class="line">  fmt.Println(keys)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> _,v := <span class="keyword">range</span> keys&#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;map[%v]=%v\n&quot;</span>,v,maps[v])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="元素类型为map和slice组合"><a href="#元素类型为map和slice组合" class="headerlink" title="元素类型为map和slice组合"></a>元素类型为map和slice组合</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//元素为map类型的切片</span></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="built_in">make</span>([]<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">string</span>,<span class="number">10</span>,<span class="number">10</span>)</span><br><span class="line">s1[<span class="number">0</span>] = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">string</span> ,<span class="number">1</span>) <span class="comment">//切记map类型需要初始化后才能使用,也就是在内存开辟空间</span></span><br><span class="line">s1[<span class="number">0</span>][<span class="number">2</span>] = <span class="string">&quot;嘎嘎&quot;</span></span><br><span class="line">fmt.Println(s1)</span><br><span class="line"></span><br><span class="line"><span class="comment">//元素为切片类型的map</span></span><br><span class="line"><span class="keyword">var</span> m1 = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>][]<span class="keyword">int</span>,<span class="number">10</span>)</span><br><span class="line">m1[<span class="string">&quot;哈哈&quot;</span>] = []<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;</span><br><span class="line">fmt.Println(m1)</span><br></pre></td></tr></table></figure>


<h3 id="make和new的区别"><a href="#make和new的区别" class="headerlink" title="make和new的区别"></a>make和new的区别</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.  `make`和`new`都是用来申请内存的。</span><br><span class="line">2.  `new`很少用,一般用来给基本数据类型申请内存,`string`，`int` ，返回的是对应的类型指针（`*string` , `*int`）</span><br><span class="line">3.  `make`是用来给`slice`,`map`,`chan`来申请内存的，make函数返回的是对应的这三个类型的本身。</span><br></pre></td></tr></table></figure>


<h3 id="排序和查找"><a href="#排序和查找" class="headerlink" title="排序和查找"></a>排序和查找</h3><p>&ensp;&ensp;&ensp;&ensp;#### 排序</p>
<p>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;<strong>定义：</strong> </p>
<p>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;排序是将一组数据，依指定的顺序进行排序</p>
<p>​     排序的种类类：</p>
<p>&ensp;&ensp;&ensp;&ensp;1. 内部排序法：</p>
<p>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;    指将需要处理的所有数据都加载到内存储存器中进行排序。<br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;    包括：<a target="_blank" rel="noopener" href="https://www.wolai.com/unkcbSacCsXvY9xHB3Nu9J">交换式排序法</a>，<strong>选择式排序法</strong> ，<strong>插入式排序法</strong> </p>
<p>&ensp;&ensp;&ensp;&ensp;2. 外部排序法</p>
<p>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;    数据量过大，无法全部加载到内存中，需要借助外部存储进行排序<br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;    包括：<strong>合并排序法</strong> ，<strong>直接合并排序法</strong> </p>
<p>&ensp;&ensp;&ensp;&ensp;#### 查找：</p>
<p>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;定义：</p>
<p>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;就是查找</p>
<p>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;查找的种类：</p>
<p>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;1. <a target="_blank" rel="noopener" href="https://www.wolai.com/rX9zuiWxp4b14qCSm4kEM1">顺序查找</a></p>
<p>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;2.  <a target="_blank" rel="noopener" href="https://www.wolai.com/oDmMRa9VCDpRW8s5WDKzoa">二分查找</a></p>
<h2 id="自定义类型和类型别名"><a href="#自定义类型和类型别名" class="headerlink" title="自定义类型和类型别名"></a>自定义类型和类型别名</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//type后面跟的是类型</span></span><br><span class="line"><span class="keyword">type</span> myInt <span class="keyword">int</span> <span class="comment">//自定义类型（一直有效）</span></span><br><span class="line"><span class="keyword">type</span> youInt = <span class="keyword">int</span> <span class="comment">//类型别名（只在敲代码过程中有效，编译（build）之后无效）</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">   <span class="keyword">var</span> n myInt</span><br><span class="line">   n = <span class="number">100</span></span><br><span class="line">   fmt.Printf(<span class="string">&quot;%T\n&quot;</span>,n)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> m youInt</span><br><span class="line">   m = <span class="number">200</span></span><br><span class="line">   fmt.Printf(<span class="string">&quot;%T\n&quot;</span>,m)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h2><h4 id="结构体是值类型"><a href="#结构体是值类型" class="headerlink" title="结构体是值类型"></a>结构体是值类型</h4><h3 id="结构体与结构体变量（实例-对象）的关系示意图"><a href="#结构体与结构体变量（实例-对象）的关系示意图" class="headerlink" title="结构体与结构体变量（实例/对象）的关系示意图"></a>结构体与结构体变量（实例/对象）的关系示意图</h3><p><img src="image/2021-06-02_223310.png"></p>
<p><strong>对上图的说明和总结：</strong> </p>
<p>&ensp;&ensp;&ensp;&ensp;1. 将一类事物的特征提取出来（比如猫类），形成一个新的数据类型，就是一个结构体。</p>
<p>&ensp;&ensp;&ensp;&ensp;2. 通过这个结构体，我们可以创建多个变量（实例/对象）</p>
<p>&ensp;&ensp;&ensp;&ensp;3. 事物可以是任意类（猫类，人类，鱼类……）</p>
<h3 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//结构体</span></span><br><span class="line"><span class="keyword">type</span> person <span class="keyword">struct</span> &#123;</span><br><span class="line">   name <span class="keyword">string</span></span><br><span class="line">   age <span class="keyword">int</span></span><br><span class="line">   hobby []<span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//主函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">   <span class="keyword">var</span> p person</span><br><span class="line">   p.name = <span class="string">&quot;刘阳&quot;</span></span><br><span class="line">   p.age = <span class="number">24</span></span><br><span class="line">   p.hobby = []<span class="keyword">string</span>&#123;<span class="string">&quot;LOL&quot;</span>,<span class="string">&quot;足球&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">   fmt.Println(p) <span class="comment">//&#123;刘阳 24 [LOL 足球]&#125;</span></span><br><span class="line">   fmt.Println(p.name) <span class="comment">//刘阳</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="结构体和结构体变量（示例）的区别和联系"><a href="#结构体和结构体变量（示例）的区别和联系" class="headerlink" title="结构体和结构体变量（示例）的区别和联系"></a>结构体和结构体变量（示例）的区别和联系</h3><ol>
<li><p>结构体是自定义数据类型，代表一类事物</p>
</li>
<li><p>结构体变量（实例）是具体的，实际的，代表一个具体的变量</p>
</li>
</ol>
<h3 id="结构体变量（实例）在内存的布局（重要！）"><a href="#结构体变量（实例）在内存的布局（重要！）" class="headerlink" title="结构体变量（实例）在内存的布局（重要！）"></a>结构体变量（实例）在内存的布局<strong>（重要！）</strong></h3><p><img src="image/2021-06-02_230557.png"></p>
<h3 id="调用结构体方式（4种）"><a href="#调用结构体方式（4种）" class="headerlink" title="调用结构体方式（4种）"></a>调用结构体方式（4种）</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Persion <span class="keyword">struct</span> &#123;</span><br><span class="line">  Name <span class="keyword">string</span></span><br><span class="line">  Age <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//四种调用结构体变量的方式</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//第一种</span></span><br><span class="line">  <span class="keyword">var</span> p Persion</span><br><span class="line">  p.Name = <span class="string">&quot;哈哈&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//第二种</span></span><br><span class="line">  p := Persion&#123;<span class="string">&quot;呵呵&quot;</span>,<span class="number">23</span>&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//第三种</span></span><br><span class="line">  <span class="keyword">var</span> p *Persion = <span class="built_in">new</span>(Persion)</span><br><span class="line">  p.Name = <span class="string">&quot;哈哈&quot;</span> <span class="comment">//两种方式赋值</span></span><br><span class="line">  (*p).Name = <span class="string">&quot;法法&quot;</span> <span class="comment">//两种方式赋值</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//第四种</span></span><br><span class="line">  <span class="comment">//var p *Persion = &amp;Persion&#123;&quot;哈哈&quot;,23&#125;//也可以这种方式赋值</span></span><br><span class="line">  <span class="keyword">var</span> p *Persion = &amp;Persion&#123;&#125;</span><br><span class="line">  (*p).Name = <span class="string">&quot;法法&quot;</span><span class="comment">//也可以这种方式赋值</span></span><br><span class="line">  p.Name = <span class="string">&quot;嘎嘎&quot;</span><span class="comment">//也可以这种方式赋值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="Tag标签（json序列化）"><a href="#Tag标签（json序列化）" class="headerlink" title="Tag标签（json序列化）"></a>Tag标签（json序列化）</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">&quot;encoding/json&quot;</span></span><br><span class="line">  <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> A <span class="keyword">struct</span> &#123;</span><br><span class="line">  Num <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> B <span class="keyword">struct</span> &#123;</span><br><span class="line">  Num <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Monster <span class="keyword">struct</span>&#123;</span><br><span class="line">  Name <span class="keyword">string</span> <span class="string">`json:&quot;name&quot;`</span> <span class="comment">//`json:&quot;name&quot;` 就是struct的tag</span></span><br><span class="line">  Age <span class="keyword">int</span> <span class="string">`json:&quot;age&quot;`</span></span><br><span class="line">  Skill <span class="keyword">string</span> <span class="string">`json:&quot;skill&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">  <span class="keyword">var</span> a A</span><br><span class="line">  <span class="keyword">var</span> b B</span><br><span class="line">  a = A(b) <span class="comment">//可以强转，但是必须是结构体的字段要完全一样</span></span><br><span class="line">  fmt.Println(a,b)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//创建monster变量</span></span><br><span class="line">  Monster := Monster&#123;<span class="string">&quot;牛魔王&quot;</span>,<span class="number">299</span>,<span class="string">&quot;芭蕉扇！&quot;</span>&#125;</span><br><span class="line">  <span class="comment">//将Monster变量序列化为json</span></span><br><span class="line">  <span class="comment">//json.Marshal 函数中使用了反射</span></span><br><span class="line">  jsonStr,err := json.Marshal(Monster)</span><br><span class="line">  <span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;json数据处理错误&quot;</span>,err)</span><br><span class="line">  &#125;</span><br><span class="line">  fmt.Println(<span class="keyword">string</span>(jsonStr))</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="func"><a href="#func" class="headerlink" title="func"></a>func</h2><h4 id="方法的声明和调用："><a href="#方法的声明和调用：" class="headerlink" title="方法的声明和调用："></a>方法的声明和调用：</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> A <span class="keyword">struct</span>&#123;</span><br><span class="line">    Num <span class="keyword">int</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a A)</span><span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">  fmt.Println(a.Num)</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">**<span class="comment">/*</span></span><br><span class="line"><span class="comment">  对上面代码解读：</span></span><br><span class="line"><span class="comment">    1.func（a A）test（）&#123;&#125; 表示A结构体有一方法，方法名为test</span></span><br><span class="line"><span class="comment">    2.（a A）提现test方法是和A类型绑定的</span></span><br><span class="line"><span class="comment">*/</span> ** </span><br></pre></td></tr></table></figure>


<h4 id="示例：-1"><a href="#示例：-1" class="headerlink" title="示例："></a>示例：</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">  Num <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a Person)</span> <span class="title">test</span><span class="params">()</span></span>  &#123;</span><br><span class="line">  fmt.Println(a.Num)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">  <span class="keyword">var</span> p Person</span><br><span class="line">  p.Num = <span class="number">23</span></span><br><span class="line">  p.test()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">**<span class="comment">/*</span></span><br><span class="line"><span class="comment">  总结：</span></span><br><span class="line"><span class="comment">    1.test方法和Person结构体绑定</span></span><br><span class="line"><span class="comment">    2.test方法只能通过Person类型的变量调用，而不能直接调用，也不能使用其他类型变量来调用</span></span><br><span class="line"><span class="comment">    3.func (p Person) test()&#123;&#125;...p表示哪个Person变量调用，这个p就是它的副本，这点和</span></span><br><span class="line"><span class="comment">      函数传参非常相似</span></span><br><span class="line"><span class="comment">    4.p这个变量名可以自定义</span></span><br><span class="line"><span class="comment">*/</span>** </span><br></pre></td></tr></table></figure>


<h3 id="方法和函数的区别"><a href="#方法和函数的区别" class="headerlink" title="方法和函数的区别"></a>方法和函数的区别</h3><p>&ensp;&ensp;&ensp;&ensp;1. 调用方式不一样：</p>
<p>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;函数调用方式：函数名（实参）</p>
<p>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;方法调用方式：变量.方法名（实参）</p>
<p>&ensp;&ensp;&ensp;&ensp;  2. 对于普通函数，接受者为值类型时，不能将指针类型的数据直接传递，反之亦然</p>
<p>&ensp;&ensp;&ensp;&ensp;  3. 杜天宇方法（如struct），接受者为值类型时，可以直接用指针类型的变量调用方法，反过来同样可以   </p>
<h2 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h2><p>&ensp;&ensp;&ensp;&ensp;### 说明：</p>
<p>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;Golang的结构体中没有<strong>构造函数</strong> ，通常可以使用<strong>工厂模式</strong> 来解决。</p>
<p>&ensp;&ensp;&ensp;&ensp;### 示例：</p>
<p><img src="image/image_1.png"></p>
<p><img src="image/image_2.png"></p>
<h2 id="面向对象编程思想"><a href="#面向对象编程思想" class="headerlink" title="面向对象编程思想"></a>面向对象编程思想</h2><h3 id="抽象"><a href="#抽象" class="headerlink" title="抽象"></a>抽象</h3><h4 id="介绍："><a href="#介绍：" class="headerlink" title="介绍："></a>介绍：</h4><p>&ensp;&ensp;&ensp;&ensp;我们定义结构体的时候，实际上就是把一类事物的共有的属性（字段）和行为（方法）提取出来，形成一个物理模型（结构体）。这种研究问题的方法称为抽象。</p>
<p><img src="image/image_3.png"></p>
<h4 id="示例：-2"><a href="#示例：-2" class="headerlink" title="示例："></a>示例：</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line">type Account struct &#123;</span><br><span class="line">  AccountNo string</span><br><span class="line">  Pwd       int</span><br><span class="line">  Balance   float64</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//存款</span></span><br><span class="line">func (account *Account) <span class="function"><span class="title">saveMoney</span>(<span class="params">money float64, pwd int</span>)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> pwd != account.Pwd &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;密码不正确&quot;</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> money &lt;= <span class="number">0</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;余额错误&quot;</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    account.Balance += money</span><br><span class="line">    fmt.Println(<span class="string">&quot;存款成功&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//取款</span></span><br><span class="line">func (account *Account) <span class="function"><span class="title">withdrawle</span>(<span class="params">money float64, pwd int</span>)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> pwd != account.Pwd &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;密码不正确&quot;</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> money &lt;= <span class="number">0</span> || money &gt; account.Balance&#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;取款金额错误&quot;</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    account.Balance -= money</span><br><span class="line">    fmt.Println(<span class="string">&quot;取款成功&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Query 查询</span></span><br><span class="line">func (account *Account) <span class="function"><span class="title">Query</span>(<span class="params">pwd int</span>)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> pwd != account.Pwd &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;密码不正确&quot;</span>)</span><br><span class="line">  &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;账号为:%v 余额为:%v&quot;</span>,account.AccountNo,account.Balance)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">func <span class="function"><span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="comment">//赋值</span></span><br><span class="line">  <span class="attr">account</span> := Account&#123;</span><br><span class="line">    <span class="attr">AccountNo</span>: <span class="string">&quot;fs33333&quot;</span>,</span><br><span class="line">    <span class="attr">Pwd</span>: <span class="number">666666</span>,</span><br><span class="line">    <span class="attr">Balance</span>: <span class="number">89.38</span>,</span><br><span class="line">  &#125;</span><br><span class="line">  account.Query(<span class="number">666666</span>)</span><br><span class="line"></span><br><span class="line">  account.saveMoney(<span class="number">23</span>,<span class="number">666666</span>)</span><br><span class="line">  account.Query(<span class="number">666666</span>)</span><br><span class="line"></span><br><span class="line">  account.withdrawle(<span class="number">12</span>,<span class="number">666666</span>)</span><br><span class="line">  account.Query(<span class="number">666666</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="封装："><a href="#封装：" class="headerlink" title="封装："></a>封装：</h3><h4 id="示例：-3"><a href="#示例：-3" class="headerlink" title="示例："></a>示例：</h4><p><img src="image/image_4.png"></p>
<p><img src="image/image_5.png"></p>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>&ensp;&ensp;&ensp;&ensp;#### 嵌套匿名结构体的基本语法：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Goods <span class="keyword">struct</span>&#123;</span><br><span class="line">  Name <span class="keyword">string</span></span><br><span class="line">  Price <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Book <span class="keyword">struct</span>&#123;</span><br><span class="line">   Goods</span><br><span class="line">   Writer <span class="keyword">string</span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>


<h4 id="示例：-4"><a href="#示例：-4" class="headerlink" title="示例："></a>示例：</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//学生考试系统</span></span><br><span class="line"><span class="keyword">type</span> student <span class="keyword">struct</span> &#123;</span><br><span class="line">  Name  <span class="keyword">string</span></span><br><span class="line">  Age   <span class="keyword">int</span></span><br><span class="line">  Score <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Pupil 小学生</span></span><br><span class="line"><span class="keyword">type</span> Pupil <span class="keyword">struct</span> &#123;</span><br><span class="line">  student <span class="comment">//嵌入匿名结构体</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Graduate 大学生</span></span><br><span class="line"><span class="keyword">type</span> Graduate <span class="keyword">struct</span> &#123;</span><br><span class="line">  student <span class="comment">//嵌入匿名结构体</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//将Pupil和Graduate 共有的方法也绑定到 *student</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *student)</span> <span class="title">showInfo</span><span class="params">()</span></span> &#123;</span><br><span class="line">  fmt.Printf(<span class="string">&quot;名字：%v 年龄:%v 分数:%v&quot;</span>, s.Name, s.Age, s.Score)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *student)</span> <span class="title">setScore</span><span class="params">(score <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">  s.Score = score</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//这是Pupil特有方法，保留</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Pupil)</span> <span class="title">testing</span><span class="params">()</span></span> &#123;</span><br><span class="line">  fmt.Println(<span class="string">&quot;小学生正在考试中...&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//这是Graduate特有方法，保留</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Graduate)</span> <span class="title">testing</span><span class="params">()</span></span> &#123;</span><br><span class="line">  fmt.Println(<span class="string">&quot;大学生正在考试中...&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  pupil := &amp;Pupil&#123;&#125;</span><br><span class="line">  pupil.student.Name = <span class="string">&quot;刘阳&quot;</span></span><br><span class="line">  pupil.student.Age = <span class="number">11</span></span><br><span class="line">  pupil.testing()</span><br><span class="line">  pupil.setScore(<span class="number">89</span>)</span><br><span class="line">  pupil.showInfo()</span><br><span class="line"></span><br><span class="line">  graduate := &amp;Graduate&#123;&#125;</span><br><span class="line">  graduate.student.Name = <span class="string">&quot;大刘阳&quot;</span></span><br><span class="line">  graduate.student.Age = <span class="number">20</span></span><br><span class="line">  graduate.testing()</span><br><span class="line">  graduate.setScore(<span class="number">190</span>)</span><br><span class="line">  graduate.showInfo()</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="多重继承"><a href="#多重继承" class="headerlink" title="多重继承"></a>多重继承</h4><p><img src="image/image_6.png"></p>
<h4 id="继承的深入讨论："><a href="#继承的深入讨论：" class="headerlink" title="继承的深入讨论："></a>继承的深入讨论：</h4><ol>
<li><p>结构体可以使用嵌套匿名结构体所有的字段和方法，即：首字母大写或者小写的字段，方法，都可以用。<a target="_blank" rel="noopener" href="https://www.wolai.com/eXk77wHj8hRW3HkSXmCZoU">【举例说明】</a></p>
</li>
<li><p>匿名结构体字段访问可以简化</p>
</li>
</ol>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b B</span><br><span class="line">  b.A.Name = <span class="string">&quot;李阳&quot;</span></span><br><span class="line">  b.A.age = <span class="number">29</span></span><br><span class="line">  b.A.SayOk()</span><br><span class="line">  b.A.hello()</span><br><span class="line"></span><br><span class="line">  <span class="comment">//上面的的写法可以简写：</span></span><br><span class="line"></span><br><span class="line">  b.Name = <span class="string">&quot;刘阳&quot;</span></span><br><span class="line">  b.age = <span class="number">11</span></span><br><span class="line">  b.SayOk()</span><br><span class="line">  b.hello()</span><br></pre></td></tr></table></figure>


<ol start="3">
<li><p>当结构体和匿名结构体有相同的字段或者方法时，编辑器采用就近访问原则访问。</p>
</li>
<li><p>结构体嵌入两个（或多个）匿名结构体，如两个匿名结构体有相同的字段和方法（同时结构体本身没有                                         </p>
<p> 同名的字段和方法），在访问时，就必须明确指定匿名结构体的名字，否则编译报错</p>
</li>
<li><p>如果一个struct嵌套了一个有名结构体，这种模式就是组合，如果是组合关系，那么在访问组合的结构</p>
<p> 体的字段或者方法时，就必须带上结构体的名字。 <a target="_blank" rel="noopener" href="https://www.wolai.com/eXk77wHj8hRW3HkSXmCZoU">【举例说明】</a></p>
</li>
</ol>
<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><h4 id="基本介绍-1"><a href="#基本介绍-1" class="headerlink" title="基本介绍"></a>基本介绍</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">变量（示例）具有多种形态，面向对象的第三大特征，在Go语言中，多态特征是通过接口实现的。可以按照统一的接口来调用不同的实现。这时接口变量就呈现不同的形态。</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="接口体现多态的两种形式："><a href="#接口体现多态的两种形式：" class="headerlink" title="接口体现多态的两种形式："></a>接口体现多态的两种形式：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">**1.多态参数** ：</span><br><span class="line">  在前面的Usb接口的案例中， Usb usb既可以接收手机变量，又可以接收相机变量，就体现了Usb接口的多态。</span><br><span class="line"></span><br><span class="line">**2.多态数组** ：</span><br><span class="line">  给Usb数组中，存放Phone结构体 和 Camera结构体变量 [【示例】](https://www.wolai.com/hPPYLStBT1MwGBxbA7s2Li)。</span><br></pre></td></tr></table></figure>


<h3 id="类型断言"><a href="#类型断言" class="headerlink" title="类型断言"></a>类型断言</h3><h4 id="基本介绍-2"><a href="#基本介绍-2" class="headerlink" title="基本介绍"></a>基本介绍</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">类型断言，由于接口是一般类型，不知道具体类型，如果要转成具体类型，就需要使用类型断言。</span><br></pre></td></tr></table></figure>


<p><img src="image/image_7.png"></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//类型断言案例02</span></span><br><span class="line">  <span class="keyword">var</span> x <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">  <span class="keyword">var</span> b2 <span class="keyword">float32</span> = <span class="number">1.1</span></span><br><span class="line">  x = b2 <span class="comment">//x是空接口，可以接收任何变量</span></span><br><span class="line">  <span class="comment">// x=&gt;float32【使用类型断言】</span></span><br><span class="line">  y := x.(<span class="keyword">float32</span>)</span><br><span class="line">  fmt.Println(y)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  案例02代码说明：</span></span><br><span class="line"><span class="comment">  1.在进行接口类型断言时，如果类型不匹配，就会报panic，因此进行类型断言时，要确保原来的空接口指向的就是</span></span><br><span class="line"><span class="comment">    断言的类型。</span></span><br><span class="line"><span class="comment">*/</span> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//类型断言案例03(带检测）</span></span><br><span class="line">  <span class="keyword">var</span> x <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">  <span class="keyword">var</span> b2 <span class="keyword">float32</span> = <span class="number">1.1</span></span><br><span class="line">  x = b2 <span class="comment">//x是空接口，可以接收任何变量</span></span><br><span class="line">  <span class="comment">// x=&gt;float32【使用类型断言】</span></span><br><span class="line">  y, ok := x.(<span class="keyword">float64</span>)</span><br><span class="line">  <span class="keyword">if</span> ok &#123;</span><br><span class="line">    fmt.Println(y)</span><br><span class="line">  &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;断言失败&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  fmt.Println(<span class="string">&quot;代码继续执行&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><h4 id="基本介绍："><a href="#基本介绍：" class="headerlink" title="基本介绍："></a>基本介绍：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">interface类型可以定义一组方法，但是这些不需要实现，并且interface不能包含任何变量。到某个自定义类型（比如结构体Phone）要使用的时候，再根据具体情况吧这些方法写出来（实现）。</span><br><span class="line"></span><br><span class="line">Interface类型默认是一个指针，也就是**引用类型 ** </span><br></pre></td></tr></table></figure>


<h4 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h4><p><img src="image/image_8.png"></p>
<h4 id="示例：-5"><a href="#示例：-5" class="headerlink" title="示例："></a>示例：</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Usb <span class="keyword">interface</span> &#123;</span><br><span class="line">  Start()</span><br><span class="line">  Stop()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Phone <span class="keyword">struct</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Camera <span class="keyword">struct</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Start 让Phone实现Usb接口的方法</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Phone)</span> <span class="title">Start</span><span class="params">()</span></span>&#123;</span><br><span class="line">  fmt.Println(<span class="string">&quot;手机开始工作&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Phone)</span> <span class="title">Stop</span><span class="params">()</span></span>&#123;</span><br><span class="line">  fmt.Println(<span class="string">&quot;手机停止工作&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Start 让Camera实现Usb接口的方法</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Camera)</span> <span class="title">Start</span><span class="params">()</span></span>&#123;</span><br><span class="line">  fmt.Println(<span class="string">&quot;相机开始工作&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Camera)</span> <span class="title">Stop</span><span class="params">()</span></span>&#123;</span><br><span class="line">  fmt.Println(<span class="string">&quot;相机停止工作&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Computer 计算机</span></span><br><span class="line"><span class="keyword">type</span> Computer <span class="keyword">struct</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Working 编写一个Working方法，接收一个Usb接口类型变量</span></span><br><span class="line"><span class="comment">//只要是实现了Usb接口，（所谓实现接口，就是指实现了Usb接口声明的所有方法 ）</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c Computer)</span> <span class="title">Working</span><span class="params">(usb Usb)</span></span>&#123;</span><br><span class="line">  <span class="comment">//通过Usb接口变量来调用Start和Stop方法</span></span><br><span class="line">  usb.Start()</span><br><span class="line">  usb.Stop()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="comment">//创建结构体变量</span></span><br><span class="line">  computer := Computer&#123;&#125;</span><br><span class="line">  phone := Phone&#123;&#125;</span><br><span class="line">  camera := Camera&#123;&#125;</span><br><span class="line"></span><br><span class="line">  computer.Working(phone)</span><br><span class="line">  computer.Working(camera)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="说明："><a href="#说明：" class="headerlink" title="说明："></a>说明：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">**1.接口里面所有的方法都没有方法体，即接口里面的方法都是没有实现的方法，接口体现了程序涉及的** **多态** **和** **高</span><br><span class="line">  内聚低耦合** **的思想** </span><br><span class="line"></span><br><span class="line">**2.Golang中的接口，不需要** **显式的实现** **。只要一个变量，含有接口类型中的所有方法，那么这个变量就实现这</span><br><span class="line">  个接口，因此，Golang中没有implete这样的关键字 ** </span><br></pre></td></tr></table></figure>


<h4 id="注意事项和细节："><a href="#注意事项和细节：" class="headerlink" title="注意事项和细节："></a>注意事项和细节：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">**1** .接口本身不能创建实例，但是可以指向一个实现了该接口的自定义类型的变量（实例）[【示例】](https://www.wolai.com/ky6AJDDahGFRxGRQkpWTGv)[</span><br><span class="line">](https://www.wolai.com/ky6AJDDahGFRxGRQkpWTGv)</span><br><span class="line">**2** .接口中所有的方法都没有方法体，即都是没有实现的方法。 </span><br><span class="line"></span><br><span class="line">**3** .在Golang中 ，一个自定义类型需要将某个接口的所有方法都实现，我们才能说这个自定义类型实现了该接口。</span><br><span class="line"></span><br><span class="line">**4** .只要是自定义数据类型，就可以实现接口，不仅仅是结构体类型。[【示例】](https://www.wolai.com/ky6AJDDahGFRxGRQkpWTGv)</span><br><span class="line"></span><br><span class="line">**5** . 一个自定义类型可以实现多个接口[【示例】 ](https://www.wolai.com/ky6AJDDahGFRxGRQkpWTGv)</span><br><span class="line"></span><br><span class="line">**6** . Golang中接口不能有任何变量。 </span><br><span class="line"></span><br><span class="line">**7** . 一个接口（比如A接口）可以继承多个别的接口（比如B，C接口），这时如果要实现A接口，也必须将B,C的接  </span><br><span class="line">   口的方法也全部实现【示例】</span><br><span class="line">   </span><br><span class="line">**8** . 空接口的interface&#123;&#125;没有任何的方法，所以所有类型都实现了空接口，所有我们可以把任何一个变量赋值给空</span><br><span class="line">   接口</span><br></pre></td></tr></table></figure>


<h3 id="接口VS继承"><a href="#接口VS继承" class="headerlink" title="接口VS继承"></a>接口VS继承</h3><h4 id="示例：-6"><a href="#示例：-6" class="headerlink" title="示例："></a>示例：</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> BirdAble <span class="keyword">interface</span> &#123;</span><br><span class="line">  Flying()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> FishAble <span class="keyword">interface</span> &#123;</span><br><span class="line">  Swimming()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Monkey Monkey结构体</span></span><br><span class="line"><span class="keyword">type</span> Monkey <span class="keyword">struct</span> &#123;</span><br><span class="line">  Name <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> LittleMonkey <span class="keyword">struct</span> &#123;</span><br><span class="line">  Monkey</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *Monkey)</span> <span class="title">climbing</span><span class="params">()</span></span>&#123;</span><br><span class="line">  fmt.Println(m.Name,<span class="string">&quot;生来会爬树&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(lm *LittleMonkey)</span> <span class="title">Flying</span><span class="params">()</span></span>&#123;</span><br><span class="line">  fmt.Println(lm.Name,<span class="string">&quot;会飞了&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(lm *LittleMonkey)</span> <span class="title">Swimming</span><span class="params">()</span></span>&#123;</span><br><span class="line">  fmt.Println(lm.Name,<span class="string">&quot;会游泳了&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  mon := LittleMonkey&#123;Monkey&#123;</span><br><span class="line">    Name: <span class="string">&quot;悟空&quot;</span>,</span><br><span class="line">  &#125;&#125;</span><br><span class="line">  mon.climbing()</span><br><span class="line">  mon.Flying()</span><br><span class="line">  mon.Swimming()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  **代码总结：</span></span><br><span class="line"><span class="comment">  1.当A结构体继承了B结构体，那么A结构体就自动继承了B结构体的字段和方法，并且可以直接使用。</span></span><br><span class="line"><span class="comment">  2.当A结构体需要拓展功能，同时不希望破坏继承关系，则可以去实现某个接口即可，因此我们可以认为：实现接口</span></span><br><span class="line"><span class="comment">    是对继承机制的补充。** </span></span><br><span class="line"><span class="comment">*/</span> </span><br></pre></td></tr></table></figure>


<h4 id="接口与继承的区别："><a href="#接口与继承的区别：" class="headerlink" title="接口与继承的区别："></a>接口与继承的区别：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.接口和继承解决的问题不同</span><br><span class="line">  继承的价值主要在于：解决代码的复用性和可维护性。</span><br><span class="line">  接口的价值主要在于：设计，设计好各种规范（方法），让其他自定义类型去实现这些方法。 </span><br><span class="line"></span><br><span class="line">2.接口比继承更加灵活</span><br><span class="line">  接口比继承更加灵活，继承是满足is-a的关系，而接口只需要满足like-a的关系。</span><br><span class="line"> </span><br><span class="line">3.接口在一定程度上可以实现代码解耦。 </span><br></pre></td></tr></table></figure>


<h2 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h2><h3 id="基本介绍-3"><a href="#基本介绍-3" class="headerlink" title="基本介绍"></a>基本介绍</h3><p>文件在程序中是以流的形式来操作的<strong>（指针类型）</strong> </p>
<p><img src="image/image_9.png"></p>
<p><strong>流：</strong> 数据在数据源（文件）和程序（内存）之间经历的路程</p>
<p><strong>输入流：</strong> 数据从数据源（文件）到程序（内存）的路径</p>
<p><strong>输出流：</strong> 数据从程序（内存）到数据源（文件）的路径</p>
<h3 id="读写文件操作"><a href="#读写文件操作" class="headerlink" title="读写文件操作"></a>读写文件操作</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">&quot;fmt&quot;</span></span><br><span class="line">  <span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//打开文件</span></span><br><span class="line">  <span class="comment">//概念说明：file的叫法（file对象，file指针，file文件句柄）</span></span><br><span class="line">  file , err :=os.Open(<span class="string">&quot;d:/test.txt&quot;</span>)</span><br><span class="line">  <span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;open file err=&quot;</span>,err)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//输出文件，看看文件是什么,file就是一个指针</span></span><br><span class="line">  fmt.Printf(<span class="string">&quot;file=%v\n&quot;</span>, file)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//关闭文件</span></span><br><span class="line">  err = file.Close()</span><br><span class="line">  <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;close file err=&quot;</span>,err)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="读取文件应用实例"><a href="#读取文件应用实例" class="headerlink" title="读取文件应用实例"></a>读取文件应用实例</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   读取文件的内容并显示在终端（待缓冲区的方式），</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">&quot;bufio&quot;</span></span><br><span class="line">  <span class="string">&quot;fmt&quot;</span></span><br><span class="line">  <span class="string">&quot;io&quot;</span></span><br><span class="line">  <span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//打开文件</span></span><br><span class="line">  file, err := os.Open(<span class="string">&quot;d:/test.txt&quot;</span>)</span><br><span class="line">  <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;open file err=&quot;</span>, err)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//当函数退出时，要即使关闭file，否则会有内存泄露。</span></span><br><span class="line">  <span class="keyword">defer</span> file.Close()</span><br><span class="line"></span><br><span class="line">  <span class="comment">//创建一个*Reader ，带缓冲区的</span></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">    cibst(</span></span><br><span class="line"><span class="comment">      defaultBufSize</span></span><br><span class="line"><span class="comment">    )</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  reader := bufio.NewReader(file)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> &#123;</span><br><span class="line">    str, err := reader.ReadString(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> err == io.EOF&#123;</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">      fmt.Print(str)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="写入创建文件应用实例"><a href="#写入创建文件应用实例" class="headerlink" title="写入创建文件应用实例"></a>写入创建文件应用实例</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">&quot;bufio&quot;</span></span><br><span class="line">  <span class="string">&quot;fmt&quot;</span></span><br><span class="line">  <span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="comment">//创建一个新文件</span></span><br><span class="line">  <span class="comment">//1.打开文件，不存在就创建。</span></span><br><span class="line">  filePath := <span class="string">&quot;d:/test02.txt&quot;</span></span><br><span class="line">  file, err := os.OpenFile(filePath, os.O_WRONLY|os.O_CREATE, <span class="number">0666</span>)</span><br><span class="line">  <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;open file err=&quot;</span>, err)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">defer</span> file.Close()</span><br><span class="line"></span><br><span class="line">  <span class="comment">//准备写入5句 &#x27;hello，Garden&#x27;</span></span><br><span class="line">  str := <span class="string">&quot;hello,Garden\n&quot;</span></span><br><span class="line">  <span class="comment">//写入时，使用带缓存的 *Writer</span></span><br><span class="line">  writer := bufio.NewWriter(file)</span><br><span class="line">  <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">    writer.WriteString(str)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//因为writer是带缓存的，因此调用writerString的时候都是先进缓存的，所以调用Flush方法</span></span><br><span class="line">  <span class="comment">//将数据写入到真正的文件中。</span></span><br><span class="line">  writer.Flush()</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="命令行参数"><a href="#命令行参数" class="headerlink" title="命令行参数"></a>命令行参数</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">&quot;flag&quot;</span></span><br><span class="line">  <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//定义变量</span></span><br><span class="line">  <span class="keyword">var</span> name <span class="keyword">string</span></span><br><span class="line">  <span class="keyword">var</span> pwd <span class="keyword">string</span></span><br><span class="line">  <span class="keyword">var</span> host <span class="keyword">string</span></span><br><span class="line">  <span class="keyword">var</span> port <span class="keyword">string</span></span><br><span class="line"></span><br><span class="line">  flag.StringVar(&amp;name,<span class="string">&quot;n&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="string">&quot;用户名&quot;</span>)</span><br><span class="line">  flag.StringVar(&amp;pwd,<span class="string">&quot;pwd&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="string">&quot;密码&quot;</span>)</span><br><span class="line">  flag.StringVar(&amp;host,<span class="string">&quot;h&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="string">&quot;主机&quot;</span>)</span><br><span class="line">  flag.StringVar(&amp;port,<span class="string">&quot;p&quot;</span>, <span class="string">&quot;3306&quot;</span>,<span class="string">&quot;端口&quot;</span>)</span><br><span class="line"></span><br><span class="line">  flag.Parse()</span><br><span class="line"></span><br><span class="line">  fmt.Printf(<span class="string">&quot;name=%v pwd=%v host=%v port=%v&quot;</span>,name,pwd,host,port)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="单元测试"><a href="#单元测试" class="headerlink" title="单元测试"></a>单元测试</h2><h3 id="传统方式测试"><a href="#传统方式测试" class="headerlink" title="传统方式测试"></a>传统方式测试</h3><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//一个测试函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">addUpper</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">  res := <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= n<span class="number">-1</span>; i++ &#123;</span><br><span class="line">    res += i</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="comment">//传统判断方法</span></span><br><span class="line">  res := addUpper(<span class="number">10</span>)</span><br><span class="line">  <span class="keyword">if</span> res != <span class="number">55</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;返回值错误。返回：%v 期望：%v&quot;</span>, res, <span class="number">55</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;返回值正确。返回：%v 期望：%v&quot;</span>, res, <span class="number">55</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">**<span class="comment">/*</span></span><br><span class="line"><span class="comment">  传统测试方式缺点分析：</span></span><br><span class="line"><span class="comment">  1.不方便，我们需要在main函数中去调用，这样就需要去修改main函数，如果现在的项目正在运行，就可</span></span><br><span class="line"><span class="comment">    能会停止项目</span></span><br><span class="line"><span class="comment">  2.不利于管理，因为当我们测试多个函数或者多个模块时，都需要写在main函数，不利于管理和清晰我们思</span></span><br><span class="line"><span class="comment">    路。</span></span><br><span class="line"><span class="comment">  3.引出单元测试-》testing 测试框架，可以很好的解决以上问题。</span></span><br><span class="line"><span class="comment">*/</span>** </span><br></pre></td></tr></table></figure>


<h3 id="基本介绍-4"><a href="#基本介绍-4" class="headerlink" title="基本介绍"></a>基本介绍</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">**<span class="number">1.</span>确保函数是可运行的，并且运行结果是正确的。</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>确保写出来的代码性能没问题</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>单元测试能及时的发现程序设计的或实现的逻辑错误，使问题及早暴露，便于问题的定位解决，而性能测</span><br><span class="line">  试的重点在于发现程序设计上的一些问题，让程序能够在高并发的情况下还能保持稳定。** </span><br></pre></td></tr></table></figure>


<h3 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h3><p><img src="image/image_10.png"></p>
<p><img src="image/image_11.png"></p>
<h3 id="快速入门总结"><a href="#快速入门总结" class="headerlink" title="快速入门总结"></a>快速入门总结</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">1.测试用例文件名必须以_test.go结尾，比如：cail_test.go （cail不是固定的）</span><br><span class="line"></span><br><span class="line">2.测试用例函数必须以Test开头，一般来说就是Test+被测试函数名，例如：TestAddUpper</span><br><span class="line"></span><br><span class="line">3.TestAddUpper(t *testing.T)的形参类型必须是*testing.T [【看下手册】](https://studygolang.com/pkgdoc)</span><br><span class="line"></span><br><span class="line">4.一个测试用例文件中，可以有多个测试用例函数，比如：TestAddUpper、TestGetSub </span><br><span class="line"></span><br><span class="line">5.运行测试用例指令</span><br><span class="line">  （1）cmd&gt;go test (如果运行正确，无日志。如果有错误，会输出日志)</span><br><span class="line">  （2）cmd&gt;go test -v （运行正确或者错误，都会输出日志）</span><br><span class="line"></span><br><span class="line">6. 当出现错误时，可以使用t.Fatalf来格式化输出信息，并退出程序</span><br><span class="line"></span><br><span class="line">7.t.Logf方法可以输出相应的日志</span><br><span class="line"></span><br><span class="line">8.PASS表示测试用例运行成功，FAIL表示测试用例运行失败</span><br><span class="line"></span><br><span class="line">9.测试单个文件，一定要带上被测试的原文件</span><br><span class="line">  cmd&gt;go test -v cail_test.go cail.go</span><br><span class="line"></span><br><span class="line">10. 测试单个方法</span><br><span class="line">     cmd&gt;go test -v test.run TestAddUpper </span><br></pre></td></tr></table></figure>


<h2 id="协程（goroutine）"><a href="#协程（goroutine）" class="headerlink" title="协程（goroutine）"></a>协程（goroutine）</h2><h3 id="案例引出："><a href="#案例引出：" class="headerlink" title="案例引出："></a>案例引出：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">**需求：要求统计1-9000000000的数字中，哪些数字是素数。** </span><br><span class="line"></span><br><span class="line">分析思路：</span><br><span class="line"></span><br><span class="line">1.传统方法，就是适用一个循环，循环的判断各个数是不是素数。【很慢】</span><br><span class="line"></span><br><span class="line">2.使用并发或者并行的方式，将统计素数的任务分配给多个goroutine去完成，这时就会用到goroutine。 </span><br></pre></td></tr></table></figure>


<h3 id="进程和线程"><a href="#进程和线程" class="headerlink" title="进程和线程"></a>进程和线程</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">**1.进程就是程序在操作系统中的一次执行过程，是系统进行资源分配和调度的基本单位。</span><br><span class="line"></span><br><span class="line">2.线程是进程的一个执行实例，是程序执行的最小单元，它是比进程更小的能独立运行的基本单位。</span><br><span class="line"></span><br><span class="line">3.一个进程可以创建和销毁多个线程，同一个进程的多个线程可以并发执行。</span><br><span class="line"></span><br><span class="line">4.一个程序至少有一个进程，一个进程最少有一个线程。 ** </span><br></pre></td></tr></table></figure>


<h4 id="示意图"><a href="#示意图" class="headerlink" title="示意图"></a>示意图</h4><p><img src="image/image_12.png"></p>
<h3 id="并发和并行"><a href="#并发和并行" class="headerlink" title="并发和并行"></a>并发和并行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">**1.并发：** 多线程程序在单核上运行，就是并发</span><br><span class="line">    ex：</span><br><span class="line">       因为是在一个cpu上，比如有10个线程，每个线程执行10毫秒（进行轮询操作），丛人的角度看，好像这</span><br><span class="line">       10个线程都在运行，但是从微观上看，某一个时间点上看，其实只有一个线程在执行，这就是并发。</span><br><span class="line"></span><br><span class="line">**2.并行：** 多线程程序在多核上运行，就是并行</span><br><span class="line">    ex:</span><br><span class="line">       因为是在多个CPU上（比如10个CPU），比如有10个线程，每个线程执行10毫秒（各自在不同的CPU上</span><br><span class="line">       执行，无论是从人的角度看，还是从某个时间点来看，都是10个线程在同时执行，这就是并行。</span><br></pre></td></tr></table></figure>


<h4 id="示意图-1"><a href="#示意图-1" class="headerlink" title="示意图"></a>示意图</h4><p><img src="image/image_13.png"></p>
<h3 id="Go主线程和Go协程"><a href="#Go主线程和Go协程" class="headerlink" title="Go主线程和Go协程"></a>Go主线程和Go协程</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">**1.Go主线程（有程序员直接称为线程/也可以理解为进程）：一个Go线程上，可以起多个协程，可以理解为协     </span><br><span class="line">  程是轻量级的线程[编译器做优化]</span><br><span class="line"> </span><br><span class="line">2.Go协程的特点：</span><br><span class="line">** **  (1) 有独立的栈空间</span><br><span class="line">  (2) 共享程序堆空间</span><br><span class="line">  (3) 调度由用户控制</span><br><span class="line">  (4) 协程是轻量级的线程 ** </span><br></pre></td></tr></table></figure>


<h4 id="goroutine快速入门"><a href="#goroutine快速入门" class="headerlink" title="goroutine快速入门"></a>goroutine快速入门</h4><p><strong>案例说明</strong> </p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> ** 1.在主线程（可以理解为进程）中，开启一个goroutine，该协程每隔一秒输出 &quot;hello world&quot;</span></span><br><span class="line"><span class="comment">  2.在主线程中也每隔一秒输出 ”hello，golang“，输出10次后，退出程序</span></span><br><span class="line"><span class="comment">  3.要求主线程和goroutine同时执行** </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++ &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;test() hellow world&quot;</span>)</span><br><span class="line">    time.Sleep(time.Second)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">go</span> test()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++ &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;main() hellow golang&quot;</span>)</span><br><span class="line">    time.Sleep(time.Second)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="画出主线程和协程执行流程图"><a href="#画出主线程和协程执行流程图" class="headerlink" title="画出主线程和协程执行流程图"></a>画出主线程和协程执行流程图</h4><p><img src="image/image_14.png"></p>
<h4 id="快速入门小结"><a href="#快速入门小结" class="headerlink" title="快速入门小结"></a>快速入门小结</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">**1.主线程是一个物理线程，直接作用在cpu上的。是重量级的，非常耗费cpu资源。</span><br><span class="line"></span><br><span class="line">2.协程从主线程开启的，是轻量级线程，是逻辑态，对资源消耗相对小</span><br><span class="line"></span><br><span class="line">3.Golang的协程机制是重要特点，可以轻松开启上万个协程，其他编程语言的并发机制一般是基于线程的，开 </span><br><span class="line">  启过多线程，资源耗费大，这里就凸显出Golang在并发上的优势了。 ** </span><br></pre></td></tr></table></figure>


<h4 id="gouortine的调度模式"><a href="#gouortine的调度模式" class="headerlink" title="gouortine的调度模式"></a>gouortine的调度模式</h4><p>&ensp;&ensp;&ensp;&ensp;<strong>MPG模式基本介绍</strong> </p>
<p><img src="image/image_15.png"></p>
<p>&ensp;&ensp;&ensp;&ensp;<strong>MPG模式运行的状态0</strong> 1</p>
<p><img src="image/image_16.png"></p>
<p>&ensp;&ensp;&ensp;&ensp;#### <strong>MPG模式运行的状态0</strong> 2</p>
<p><img src="image/image_17.png"></p>
<h3 id="设置Golang运行的cpu数"><a href="#设置Golang运行的cpu数" class="headerlink" title="设置Golang运行的cpu数"></a>设置Golang运行的cpu数</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">&quot;fmt&quot;</span></span><br><span class="line">  <span class="string">&quot;runtime&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line"></span><br><span class="line">  cpuNum := runtime.NumCPU()</span><br><span class="line">  fmt.Println(cpuNum)</span><br><span class="line"></span><br><span class="line">  runtime.GOMAXPROCS(cpuNum - <span class="number">1</span>)</span><br><span class="line">  fmt.Println(<span class="string">&quot;ok&quot;</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  **go1.8后，默认让程序运行在多个CPU上，可以不用设置了。</span></span><br><span class="line"><span class="comment">  go1.8前，还是要设置一下，可以更高效的利用CPU** </span></span><br><span class="line"><span class="comment">*/</span> </span><br></pre></td></tr></table></figure>


<h2 id="管道（channel）"><a href="#管道（channel）" class="headerlink" title="管道（channel）"></a>管道（channel）</h2><h4 id="看个需求"><a href="#看个需求" class="headerlink" title="看个需求"></a>看个需求</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  **需求：</span></span><br><span class="line"><span class="comment">    现在要计算1-200的各个数的阶乘，并且把各个数的阶乘放入到map中。最后显示出来。</span></span><br><span class="line"><span class="comment">    要求使用goroutine完成</span></span><br><span class="line"><span class="comment">  实现思路：</span></span><br><span class="line"><span class="comment">    1.编写一个函数，来计算各个数的阶乘，并放入到map中</span></span><br><span class="line"><span class="comment">    2.我们启动的协程多个，将统计的结果放入到map中</span></span><br><span class="line"><span class="comment">    3.map应该做出一个全局的。** </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">&quot;fmt&quot;</span></span><br><span class="line">  <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myMap = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//test函数就是计算n!，将这个结果放入到map中</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(n <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line"></span><br><span class="line">  res := <span class="number">1</span></span><br><span class="line">  <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">200</span>; i++ &#123;</span><br><span class="line">    res *= i</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//将res 放到map里</span></span><br><span class="line">  myMap[n] = res <span class="comment">//报错：fatal error: concurrent map writes</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//我们这里开多个协程完成这个任务【200个】</span></span><br><span class="line">  <span class="keyword">for</span> i := <span class="number">1</span>;i&lt;= <span class="number">200</span>;i++&#123;</span><br><span class="line">    <span class="keyword">go</span> test(i)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//休眠10秒钟</span></span><br><span class="line">  time.Sleep(time.Second * <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//输出结果</span></span><br><span class="line">  <span class="keyword">for</span> i,v := <span class="keyword">range</span> myMap&#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;map[%v]%v&quot;</span>,i,v)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> ** ** **代码问题：</span></span><br><span class="line"><span class="comment">  </span></span><br><span class="line"><span class="comment">  上面代码存在资源竞争问题，在运行程序时，如何知道是否存在资源竞争问题？很简单，在编译该程序时，增 </span></span><br><span class="line"><span class="comment">   加一个参数，-race即可 【下面示意图】** </span></span><br><span class="line"><span class="comment">*/</span> </span><br></pre></td></tr></table></figure>


<p><img src="image/image_18.png"></p>
<h4 id="不同goroutine之间如何通讯"><a href="#不同goroutine之间如何通讯" class="headerlink" title="不同goroutine之间如何通讯"></a>不同goroutine之间如何通讯</h4><p>&ensp;&ensp;&ensp;&ensp;1. ** 全局变量互斥锁** </p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">**<span class="comment">//因为上面代码没有对全局变量m加锁，因此会出现资源争夺问题，代码会出现错误，提示concurrent map writes</span></span><br><span class="line"><span class="comment">//解决方案：加入互斥锁</span></span><br><span class="line"><span class="comment">//我们的数的阶乘很大，结果会越界，可以将求阶乘改为sum += uint64（i）</span></span><br><span class="line"><span class="comment">//代码改进：↓ ↓ ↓** </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">&quot;fmt&quot;</span></span><br><span class="line">  <span class="string">&quot;sync&quot;</span></span><br><span class="line">  <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  需求：</span></span><br><span class="line"><span class="comment">    现在要计算1-200的各个数的阶乘，并且把各个数的阶乘放入到map中。最后显示出来。</span></span><br><span class="line"><span class="comment">    要求使用goroutine完成</span></span><br><span class="line"><span class="comment">  思路：</span></span><br><span class="line"><span class="comment">    1.编写一个函数，来计算各个数的阶乘，并放入到map中</span></span><br><span class="line"><span class="comment">    2.我们启动的协程多个，将统计的结果放入到map中</span></span><br><span class="line"><span class="comment">    3.map应该做出一个全局的。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">  myMap = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//lock是一个全局的互斥锁</span></span><br><span class="line">  <span class="comment">//sync 是包：synchornized 同步</span></span><br><span class="line">  <span class="comment">//Mutex:是互斥</span></span><br><span class="line">  lock sync.Mutex</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">//test函数就是计算n!，将这个结果放入到map中</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(n <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line"></span><br><span class="line">  res := <span class="number">1</span></span><br><span class="line">  <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= n; i++ &#123;</span><br><span class="line">    res *= i</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//将res 放到map里 并 加锁</span></span><br><span class="line">  lock.Lock()</span><br><span class="line">  myMap[n] = res <span class="comment">//报错：fatal error: concurrent map writes</span></span><br><span class="line">  <span class="comment">//解锁</span></span><br><span class="line">  lock.Unlock()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//我们这里开多个协程完成这个任务【200个】</span></span><br><span class="line">  <span class="keyword">for</span> i := <span class="number">1</span>;i&lt;= <span class="number">20</span>;i++&#123;</span><br><span class="line">    <span class="keyword">go</span> test(i)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//休眠10秒钟</span></span><br><span class="line">  time.Sleep(time.Second * <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//输出结果</span></span><br><span class="line">  lock.Lock()</span><br><span class="line">  <span class="keyword">for</span> i,v := <span class="keyword">range</span> myMap&#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;map[%d]%d\n&quot;</span>,i,v)</span><br><span class="line">  &#125;</span><br><span class="line">  lock.Unlock()</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> </span><br></pre></td></tr></table></figure>


<p>&ensp;&ensp;&ensp;&ensp;2. <strong>使用管道（channel）</strong> </p>
<p>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;<strong>为什么需要channel</strong> </p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">**<span class="number">1.</span>主线程在等待所有goroutine全部完成的时间很难确定，我们这里设置了<span class="number">5</span>秒，仅仅是估算。** </span><br><span class="line"></span><br><span class="line">**<span class="number">2.</span>如果主线程休眠时间长了，会加长等待时间，如果等待时间短了，可能还有goroutine处于工作状</span><br><span class="line">  态，这时也会随主线程的退出而销毁** </span><br><span class="line"></span><br><span class="line">**<span class="number">3.</span>通过全局加锁同步来时间通讯，也并不利于多个协程对全局变量的读写操作。 ** </span><br></pre></td></tr></table></figure>


<h4 id="channel基本介绍"><a href="#channel基本介绍" class="headerlink" title="channel基本介绍"></a>channel基本介绍</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>**channel是** **引用类型** **</span><br><span class="line">** </span><br><span class="line"><span class="number">2.</span>channel必须初始化才能写入数据，即必须<span class="built_in">make</span>后才能使用</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>channel 本质就是一个数据结构 —— 队列 【见图<span class="number">1.0</span>】</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>数据是先进先出的【FIFO：first in first out】</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>线程安全，多goroutine访问时，不需要加锁，就是说channel本身就是线程安全的</span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>channel是需要指定类型的。例: 一个<span class="keyword">string</span> 的channel只能存放<span class="keyword">string</span>的数据 </span><br></pre></td></tr></table></figure>


<p><strong>图 1.0</strong> </p>
<p><img src="image/image_19.png"></p>
<h4 id="定义-声明channel"><a href="#定义-声明channel" class="headerlink" title="定义/声明channel"></a>定义/声明channel</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 变量名 <span class="keyword">chan</span> 数据类型</span><br><span class="line"></span><br><span class="line">例：</span><br><span class="line"><span class="keyword">var</span> intChan <span class="keyword">chan</span> <span class="keyword">int</span> （intChan用于存放<span class="keyword">int</span>类型的数据）</span><br><span class="line"><span class="keyword">var</span> mapChan <span class="keyword">chan</span> <span class="keyword">map</span>[<span class="keyword">int</span>][<span class="keyword">string</span>] （mapChan用于存放<span class="keyword">map</span>[<span class="keyword">int</span>][<span class="keyword">string</span>]类型的数据</span><br><span class="line"><span class="keyword">var</span> perChan <span class="keyword">chan</span> Person</span><br><span class="line"><span class="keyword">var</span> perChan2 <span class="keyword">chan</span> *Person </span><br></pre></td></tr></table></figure>


<h4 id="channel的基本操作、注意事项"><a href="#channel的基本操作、注意事项" class="headerlink" title="channel的基本操作、注意事项"></a>channel的基本操作、注意事项</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//演示channel的使用</span></span><br><span class="line">  <span class="comment">//1.创建一个可以容量为3的int类型的channel</span></span><br><span class="line">  <span class="keyword">var</span> intChan <span class="keyword">chan</span> <span class="keyword">int</span></span><br><span class="line">  intChan = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//2.看看intChan是什么</span></span><br><span class="line">  fmt.Printf(<span class="string">&quot;intChan 的值：%v intChan本身的地址=%p\n&quot;</span>,intChan,&amp;intChan)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//3.像管道写入数据</span></span><br><span class="line">  intChan &lt;- <span class="number">10</span></span><br><span class="line">  num := <span class="number">100</span></span><br><span class="line">  intChan &lt;- num</span><br><span class="line">  intChan &lt;- <span class="number">50</span></span><br><span class="line">  <span class="comment">//intChan &lt;- 80 //注意：当我们给管道写入数据时，不能超过其容量</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//4.看看管道的长度和容量</span></span><br><span class="line">  fmt.Printf(<span class="string">&quot;channel len=%v  cap=%v&quot;</span>,<span class="built_in">len</span>(intChan),<span class="built_in">cap</span>(intChan))</span><br><span class="line"></span><br><span class="line">  <span class="comment">//5.从channel中取出数据</span></span><br><span class="line">  num2 := &lt;- intChan</span><br><span class="line">  fmt.Printf(<span class="string">&quot;num = %v&quot;</span>,num2)</span><br><span class="line">  fmt.Printf(<span class="string">&quot;channel len=%v  cap=%v&quot;</span>,<span class="built_in">len</span>(intChan),<span class="built_in">cap</span>(intChan))</span><br><span class="line"></span><br><span class="line">  <span class="comment">//6.在没有使用协程的情况下，如果我们的管道数据已经全部取出，再取就会报deadlock</span></span><br><span class="line">  num3 := &lt;- intChan</span><br><span class="line">  num4 := &lt;- intChan</span><br><span class="line">  num5 := &lt;- intChan <span class="comment">//此行报错：deadlock</span></span><br><span class="line">  fmt.Println(<span class="string">&quot;num3 = &quot;</span>,num3,<span class="string">&quot;num4 = &quot;</span>,num4,<span class="string">&quot;num5 = &quot;</span>,num5)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="channel注意事项"><a href="#channel注意事项" class="headerlink" title="channel注意事项"></a>channel注意事项</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>channel中只能存放指定的数据类型</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>channel中数据存满就不能再存放了</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>如果channel中取出数据后，可以继续放入</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>在没有使用协程的情况下，如果channel数据取完了，再取，就会报dead lock（死锁） </span><br></pre></td></tr></table></figure>


<h3 id="channel关闭"><a href="#channel关闭" class="headerlink" title="channel关闭"></a>channel关闭</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">使用内置函数<span class="keyword">close</span>可以关闭channel，当channel关闭后，就不能再像channel写数据了，但仍然可以从cha</span><br><span class="line">nnel中取数据。</span><br></pre></td></tr></table></figure>


<h3 id="channel的遍历"><a href="#channel的遍历" class="headerlink" title="channel的遍历"></a>channel的遍历</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>在遍历时，如果channel没有关闭，也会出现deadlock的错误</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>在遍历时，如果channel已经关闭，则会正常遍历数据，遍历完后，就会退出遍历</span><br></pre></td></tr></table></figure>


<h3 id="channle和goroutine结合使用示例"><a href="#channle和goroutine结合使用示例" class="headerlink" title="channle和goroutine结合使用示例"></a>channle和goroutine结合使用示例</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">**<span class="comment">/*</span></span><br><span class="line"><span class="comment">  题目：</span></span><br><span class="line"><span class="comment">  请完成goroutine和channel协同工作的具体案例，要求如下：</span></span><br><span class="line"><span class="comment">  1.开启一个writeChan协程，向intChan中写入50个整数</span></span><br><span class="line"><span class="comment">  2.开启一个readData协程，从管道intChan中读取writeChan写入的数据</span></span><br><span class="line"><span class="comment">  3.注意：writeData 和 readData 操作的是同一个管道</span></span><br><span class="line"><span class="comment">  4.主线程需要等待writeData和readData协程都完成工作才能退出【管道】</span></span><br><span class="line"><span class="comment">*/</span>** </span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">WriteData</span><span class="params">(intChan <span class="keyword">chan</span> <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">  <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">50</span>; i++ &#123;</span><br><span class="line">    intChan &lt;- i</span><br><span class="line">    fmt.Printf(<span class="string">&quot;写入:%v\n&quot;</span>,i)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">close</span>(intChan) <span class="comment">//写入完毕关闭管道</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ReadData</span><span class="params">(intChan <span class="keyword">chan</span> <span class="keyword">int</span>, exitChan <span class="keyword">chan</span> <span class="keyword">bool</span>)</span></span> &#123;</span><br><span class="line">  <span class="keyword">for</span> &#123;</span><br><span class="line">    v, ok := &lt;-intChan</span><br><span class="line">    <span class="keyword">if</span> !ok &#123;</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;读到=%v\n&quot;</span>, v)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//读取完数据以后，即任务完成</span></span><br><span class="line">  exitChan &lt;- <span class="literal">true</span></span><br><span class="line">  <span class="built_in">close</span>(exitChan)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  intChan := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">50</span>)</span><br><span class="line">  exitChan := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">bool</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">go</span> WriteData(intChan)</span><br><span class="line">  <span class="keyword">go</span> ReadData(intChan, exitChan)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>  &#123;</span><br><span class="line">    _ , ok := &lt;-exitChan</span><br><span class="line">    <span class="keyword">if</span> !ok&#123;</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="阻塞"><a href="#阻塞" class="headerlink" title="阻塞"></a>阻塞</h3><p><img src="image/image_20.png"></p>
<h3 id="channel使用细节和注意事项"><a href="#channel使用细节和注意事项" class="headerlink" title="channel使用细节和注意事项"></a>channel使用细节和注意事项</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">**<span class="number">1.</span>channel可以只声明为只读，或者只写的性质** </span><br><span class="line">  <span class="comment">//只写</span></span><br><span class="line">  <span class="keyword">var</span> ch <span class="keyword">chan</span>-&lt; <span class="keyword">int</span></span><br><span class="line">  ch = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span> ,<span class="number">3</span>)</span><br><span class="line">  <span class="comment">//只读</span></span><br><span class="line">  <span class="keyword">var</span> ch &lt;-<span class="keyword">chan</span> <span class="keyword">int</span></span><br><span class="line">  ch = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span> ,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>使用<span class="keyword">select</span>可以解决从管道取数据的阻塞问题</span><br><span class="line">  <span class="keyword">select</span>&#123;</span><br><span class="line">    <span class="keyword">case</span> v:=&lt;-管道:</span><br><span class="line">      逻辑</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">default</span></span><br><span class="line">      逻辑</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>goroutine中使用<span class="built_in">recover</span>，解决协程中出现的<span class="built_in">panic</span>，导致程序崩溃问题。</span><br></pre></td></tr></table></figure>





















<p><a href="%E4%BA%A4%E6%8D%A2%E5%BC%8F%E6%8E%92%E5%BA%8F%E6%B3%95/%E4%BA%A4%E6%8D%A2%E5%BC%8F%E6%8E%92%E5%BA%8F%E6%B3%95.md">交换式排序法</a></p>
<p><a href="%E9%A1%BA%E5%BA%8F%E6%9F%A5%E6%89%BE/%E9%A1%BA%E5%BA%8F%E6%9F%A5%E6%89%BE.md">顺序查找</a></p>
<p><a href="%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE.md">二分查找</a></p>
<p><a href="%E3%80%90%E4%B8%BE%E4%BE%8B%E8%AF%B4%E6%98%8E%E3%80%91/%E3%80%90%E4%B8%BE%E4%BE%8B%E8%AF%B4%E6%98%8E%E3%80%91.md">【举例说明】</a></p>
<p><a href="%E6%8E%A5%E5%8F%A3%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%E5%92%8C%E7%BB%86%E8%8A%82/%E6%8E%A5%E5%8F%A3%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%E5%92%8C%E7%BB%86%E8%8A%82.md">接口的注意事项和细节</a></p>
<p><a href="%E6%8E%A5%E5%8F%A3-%E5%A4%9A%E6%80%81/%E6%8E%A5%E5%8F%A3-%E5%A4%9A%E6%80%81.md">接口-多态</a></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Go/" rel="tag"># Go</a>
          </div>

        


        
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Golang"><span class="nav-number">1.</span> <span class="nav-text">Golang</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0"><span class="nav-number">1.1.</span> <span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E4%BC%A0%E9%80%92%E6%96%B9%E5%BC%8F"><span class="nav-number">1.1.1.</span> <span class="nav-text">函数参数的传递方式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">基本介绍</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%A4%E7%A7%8D%E4%BC%A0%E9%80%92%E6%96%B9%E5%BC%8F"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">两种传递方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%80%BC%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.1.1.3.</span> <span class="nav-text">值类型和引用类型</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E7%94%A8%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0"><span class="nav-number">1.1.2.</span> <span class="nav-text">字符串常用系统函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="nav-number">1.2.</span> <span class="nav-text">错误处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA"><span class="nav-number">1.2.1.</span> <span class="nav-text">代码演示</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#defer"><span class="nav-number">1.3.</span> <span class="nav-text">defer</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.4.</span> <span class="nav-text">数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E7%BB%84"><span class="nav-number">1.4.1.</span> <span class="nav-text">数组</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E6%98%AF%E5%80%BC%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">数组是值类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%AE%9A%E4%B9%89%E6%95%B0%E7%BB%84"><span class="nav-number">1.4.1.2.</span> <span class="nav-text">如何定义数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E5%A6%82%E4%BD%95%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-number">1.4.1.3.</span> <span class="nav-text">数组如何初始化</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="nav-number">1.4.2.</span> <span class="nav-text">多维数组</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%E5%B8%83%E5%B1%80%EF%BC%9A"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">二维数组在内存中的布局：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F%EF%BC%881%EF%BC%89"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">二维数组使用方式（1）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F%EF%BC%882%EF%BC%89%EF%BC%88%E7%9B%B4%E6%8E%A5%E5%88%9D%E5%A7%8B%E5%8C%96%EF%BC%89"><span class="nav-number">1.4.2.3.</span> <span class="nav-text">二维数组使用方式（2）（直接初始化）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E7%9A%84%E9%81%8D%E5%8E%86"><span class="nav-number">1.4.2.4.</span> <span class="nav-text">二维数组的遍历</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%EF%BC%9A"><span class="nav-number">1.4.2.5.</span> <span class="nav-text">注意：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%87%E7%89%87"><span class="nav-number">1.4.3.</span> <span class="nav-text">切片</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%87%E7%89%87%E6%98%AF%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.4.3.1.</span> <span class="nav-text">切片是引用类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%87%E7%89%87%E7%9A%84%E6%9C%AC%E8%B4%A8"><span class="nav-number">1.4.3.2.</span> <span class="nav-text">切片的本质</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%87%E7%89%87%E7%9A%84%E6%89%A9%E5%AE%B9"><span class="nav-number">1.4.3.3.</span> <span class="nav-text">切片的扩容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%87%E7%89%87%E4%B8%8D%E8%83%BD%E7%9B%B4%E6%8E%A5%E6%AF%94%E8%BE%83"><span class="nav-number">1.4.3.4.</span> <span class="nav-text">切片不能直接比较</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%87%E7%89%87%EF%BC%88slice%EF%BC%89%EF%BC%88%E6%A1%88%E4%BE%8B%EF%BC%89"><span class="nav-number">1.4.3.5.</span> <span class="nav-text">切片（slice）（案例）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#make"><span class="nav-number">1.4.3.6.</span> <span class="nav-text">make</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%87%E7%89%87%E7%9A%84%E9%81%8D%E5%8E%86"><span class="nav-number">1.4.3.7.</span> <span class="nav-text">切片的遍历</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#append"><span class="nav-number">1.4.3.8.</span> <span class="nav-text">append</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#copy"><span class="nav-number">1.4.3.9.</span> <span class="nav-text">copy</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E5%88%87%E7%89%87%E4%B8%AD%E7%9A%84%E6%8C%87%E5%AE%9A%E5%85%83%E7%B4%A0"><span class="nav-number">1.4.3.10.</span> <span class="nav-text">删除切片中的指定元素</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#string-%E4%B8%8E-slice"><span class="nav-number">1.4.3.11.</span> <span class="nav-text">_string 与 slice</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%87%E9%92%88"><span class="nav-number">1.4.4.</span> <span class="nav-text">指针</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#map"><span class="nav-number">1.4.5.</span> <span class="nav-text">map</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BA%8F%E8%A8%80"><span class="nav-number">1.4.5.1.</span> <span class="nav-text">序言</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#map%E6%A1%88%E4%BE%8B"><span class="nav-number">1.4.5.2.</span> <span class="nav-text">map案例</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#map%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F%EF%BC%883%E7%A7%8D%EF%BC%89"><span class="nav-number">1.4.5.3.</span> <span class="nav-text">map的使用方式（3种）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#map%E7%9A%84%E9%81%8D%E5%8E%86"><span class="nav-number">1.4.5.4.</span> <span class="nav-text">map的遍历</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#map%E7%9A%84crud%E6%93%8D%E4%BD%9C"><span class="nav-number">1.4.5.5.</span> <span class="nav-text">map的crud操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#map%E5%88%87%E7%89%87"><span class="nav-number">1.4.5.6.</span> <span class="nav-text">map切片</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#map%E6%8E%92%E5%BA%8F"><span class="nav-number">1.4.5.7.</span> <span class="nav-text">map排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%83%E7%B4%A0%E7%B1%BB%E5%9E%8B%E4%B8%BAmap%E5%92%8Cslice%E7%BB%84%E5%90%88"><span class="nav-number">1.4.5.8.</span> <span class="nav-text">元素类型为map和slice组合</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#make%E5%92%8Cnew%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">1.4.6.</span> <span class="nav-text">make和new的区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F%E5%92%8C%E6%9F%A5%E6%89%BE"><span class="nav-number">1.4.7.</span> <span class="nav-text">排序和查找</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%E5%92%8C%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D"><span class="nav-number">1.5.</span> <span class="nav-text">自定义类型和类型别名</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93"><span class="nav-number">1.6.</span> <span class="nav-text">结构体</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%98%AF%E5%80%BC%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.6.0.1.</span> <span class="nav-text">结构体是值类型</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%98%E9%87%8F%EF%BC%88%E5%AE%9E%E4%BE%8B-%E5%AF%B9%E8%B1%A1%EF%BC%89%E7%9A%84%E5%85%B3%E7%B3%BB%E7%A4%BA%E6%84%8F%E5%9B%BE"><span class="nav-number">1.6.1.</span> <span class="nav-text">结构体与结构体变量（实例&#x2F;对象）的关系示意图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A"><span class="nav-number">1.6.2.</span> <span class="nav-text">示例：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%92%8C%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%98%E9%87%8F%EF%BC%88%E7%A4%BA%E4%BE%8B%EF%BC%89%E7%9A%84%E5%8C%BA%E5%88%AB%E5%92%8C%E8%81%94%E7%B3%BB"><span class="nav-number">1.6.3.</span> <span class="nav-text">结构体和结构体变量（示例）的区别和联系</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%98%E9%87%8F%EF%BC%88%E5%AE%9E%E4%BE%8B%EF%BC%89%E5%9C%A8%E5%86%85%E5%AD%98%E7%9A%84%E5%B8%83%E5%B1%80%EF%BC%88%E9%87%8D%E8%A6%81%EF%BC%81%EF%BC%89"><span class="nav-number">1.6.4.</span> <span class="nav-text">结构体变量（实例）在内存的布局（重要！）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B0%83%E7%94%A8%E7%BB%93%E6%9E%84%E4%BD%93%E6%96%B9%E5%BC%8F%EF%BC%884%E7%A7%8D%EF%BC%89"><span class="nav-number">1.6.5.</span> <span class="nav-text">调用结构体方式（4种）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tag%E6%A0%87%E7%AD%BE%EF%BC%88json%E5%BA%8F%E5%88%97%E5%8C%96%EF%BC%89"><span class="nav-number">1.6.6.</span> <span class="nav-text">Tag标签（json序列化）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#func"><span class="nav-number">1.7.</span> <span class="nav-text">func</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E7%9A%84%E5%A3%B0%E6%98%8E%E5%92%8C%E8%B0%83%E7%94%A8%EF%BC%9A"><span class="nav-number">1.7.0.1.</span> <span class="nav-text">方法的声明和调用：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A-1"><span class="nav-number">1.7.0.2.</span> <span class="nav-text">示例：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">1.7.1.</span> <span class="nav-text">方法和函数的区别</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.8.</span> <span class="nav-text">工厂模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3"><span class="nav-number">1.9.</span> <span class="nav-text">面向对象编程思想</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%BD%E8%B1%A1"><span class="nav-number">1.9.1.</span> <span class="nav-text">抽象</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%8B%E7%BB%8D%EF%BC%9A"><span class="nav-number">1.9.1.1.</span> <span class="nav-text">介绍：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A-2"><span class="nav-number">1.9.1.2.</span> <span class="nav-text">示例：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%81%E8%A3%85%EF%BC%9A"><span class="nav-number">1.9.2.</span> <span class="nav-text">封装：</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A-3"><span class="nav-number">1.9.2.1.</span> <span class="nav-text">示例：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF"><span class="nav-number">1.9.3.</span> <span class="nav-text">继承</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A-4"><span class="nav-number">1.9.3.1.</span> <span class="nav-text">示例：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF"><span class="nav-number">1.9.3.2.</span> <span class="nav-text">多重继承</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF%E7%9A%84%E6%B7%B1%E5%85%A5%E8%AE%A8%E8%AE%BA%EF%BC%9A"><span class="nav-number">1.9.3.3.</span> <span class="nav-text">继承的深入讨论：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E6%80%81"><span class="nav-number">1.9.4.</span> <span class="nav-text">多态</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D-1"><span class="nav-number">1.9.4.1.</span> <span class="nav-text">基本介绍</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E4%BD%93%E7%8E%B0%E5%A4%9A%E6%80%81%E7%9A%84%E4%B8%A4%E7%A7%8D%E5%BD%A2%E5%BC%8F%EF%BC%9A"><span class="nav-number">1.9.4.2.</span> <span class="nav-text">接口体现多态的两种形式：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80"><span class="nav-number">1.9.5.</span> <span class="nav-text">类型断言</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D-2"><span class="nav-number">1.9.5.1.</span> <span class="nav-text">基本介绍</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3"><span class="nav-number">1.10.</span> <span class="nav-text">接口</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D%EF%BC%9A"><span class="nav-number">1.10.0.1.</span> <span class="nav-text">基本介绍：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="nav-number">1.10.0.2.</span> <span class="nav-text">基本语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A-5"><span class="nav-number">1.10.0.3.</span> <span class="nav-text">示例：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%B4%E6%98%8E%EF%BC%9A"><span class="nav-number">1.10.0.4.</span> <span class="nav-text">说明：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%E5%92%8C%E7%BB%86%E8%8A%82%EF%BC%9A"><span class="nav-number">1.10.0.5.</span> <span class="nav-text">注意事项和细节：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3VS%E7%BB%A7%E6%89%BF"><span class="nav-number">1.10.1.</span> <span class="nav-text">接口VS继承</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A-6"><span class="nav-number">1.10.1.1.</span> <span class="nav-text">示例：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E4%B8%8E%E7%BB%A7%E6%89%BF%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9A"><span class="nav-number">1.10.1.2.</span> <span class="nav-text">接口与继承的区别：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6"><span class="nav-number">1.11.</span> <span class="nav-text">文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D-3"><span class="nav-number">1.11.1.</span> <span class="nav-text">基本介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="nav-number">1.11.2.</span> <span class="nav-text">读写文件操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E5%BA%94%E7%94%A8%E5%AE%9E%E4%BE%8B"><span class="nav-number">1.11.3.</span> <span class="nav-text">读取文件应用实例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%99%E5%85%A5%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E5%BA%94%E7%94%A8%E5%AE%9E%E4%BE%8B"><span class="nav-number">1.11.4.</span> <span class="nav-text">写入创建文件应用实例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0"><span class="nav-number">1.12.</span> <span class="nav-text">命令行参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95"><span class="nav-number">1.13.</span> <span class="nav-text">单元测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%A0%E7%BB%9F%E6%96%B9%E5%BC%8F%E6%B5%8B%E8%AF%95"><span class="nav-number">1.13.1.</span> <span class="nav-text">传统方式测试</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B"><span class="nav-number">1.13.1.1.</span> <span class="nav-text">示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D-4"><span class="nav-number">1.13.2.</span> <span class="nav-text">基本介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="nav-number">1.13.3.</span> <span class="nav-text">快速入门</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%80%BB%E7%BB%93"><span class="nav-number">1.13.4.</span> <span class="nav-text">快速入门总结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%8F%E7%A8%8B%EF%BC%88goroutine%EF%BC%89"><span class="nav-number">1.14.</span> <span class="nav-text">协程（goroutine）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%E5%BC%95%E5%87%BA%EF%BC%9A"><span class="nav-number">1.14.1.</span> <span class="nav-text">案例引出：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B"><span class="nav-number">1.14.2.</span> <span class="nav-text">进程和线程</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A4%BA%E6%84%8F%E5%9B%BE"><span class="nav-number">1.14.2.1.</span> <span class="nav-text">示意图</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B9%B6%E5%8F%91%E5%92%8C%E5%B9%B6%E8%A1%8C"><span class="nav-number">1.14.3.</span> <span class="nav-text">并发和并行</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A4%BA%E6%84%8F%E5%9B%BE-1"><span class="nav-number">1.14.3.1.</span> <span class="nav-text">示意图</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Go%E4%B8%BB%E7%BA%BF%E7%A8%8B%E5%92%8CGo%E5%8D%8F%E7%A8%8B"><span class="nav-number">1.14.4.</span> <span class="nav-text">Go主线程和Go协程</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#goroutine%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="nav-number">1.14.4.1.</span> <span class="nav-text">goroutine快速入门</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%BB%E5%87%BA%E4%B8%BB%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%8D%8F%E7%A8%8B%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="nav-number">1.14.4.2.</span> <span class="nav-text">画出主线程和协程执行流程图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E5%B0%8F%E7%BB%93"><span class="nav-number">1.14.4.3.</span> <span class="nav-text">快速入门小结</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#gouortine%E7%9A%84%E8%B0%83%E5%BA%A6%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.14.4.4.</span> <span class="nav-text">gouortine的调度模式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AEGolang%E8%BF%90%E8%A1%8C%E7%9A%84cpu%E6%95%B0"><span class="nav-number">1.14.5.</span> <span class="nav-text">设置Golang运行的cpu数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AE%A1%E9%81%93%EF%BC%88channel%EF%BC%89"><span class="nav-number">1.15.</span> <span class="nav-text">管道（channel）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9C%8B%E4%B8%AA%E9%9C%80%E6%B1%82"><span class="nav-number">1.15.0.1.</span> <span class="nav-text">看个需求</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8D%E5%90%8Cgoroutine%E4%B9%8B%E9%97%B4%E5%A6%82%E4%BD%95%E9%80%9A%E8%AE%AF"><span class="nav-number">1.15.0.2.</span> <span class="nav-text">不同goroutine之间如何通讯</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#channel%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.15.0.3.</span> <span class="nav-text">channel基本介绍</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89-%E5%A3%B0%E6%98%8Echannel"><span class="nav-number">1.15.0.4.</span> <span class="nav-text">定义&#x2F;声明channel</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#channel%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E3%80%81%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">1.15.0.5.</span> <span class="nav-text">channel的基本操作、注意事项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#channel%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">1.15.0.6.</span> <span class="nav-text">channel注意事项</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#channel%E5%85%B3%E9%97%AD"><span class="nav-number">1.15.1.</span> <span class="nav-text">channel关闭</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#channel%E7%9A%84%E9%81%8D%E5%8E%86"><span class="nav-number">1.15.2.</span> <span class="nav-text">channel的遍历</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#channle%E5%92%8Cgoroutine%E7%BB%93%E5%90%88%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B"><span class="nav-number">1.15.3.</span> <span class="nav-text">channle和goroutine结合使用示例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%98%BB%E5%A1%9E"><span class="nav-number">1.15.4.</span> <span class="nav-text">阻塞</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#channel%E4%BD%BF%E7%94%A8%E7%BB%86%E8%8A%82%E5%92%8C%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">1.15.5.</span> <span class="nav-text">channel使用细节和注意事项</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">1</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
